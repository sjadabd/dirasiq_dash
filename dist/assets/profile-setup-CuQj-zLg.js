import{r as p,m as L,k as _,c as I,b as l,e as u,o as c,d as f,p as V,s as d,t as y,f as x,n as g,aZ as U,C as q,a_ as r,v as k}from"./index-DzRnBGoW.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as D}from"./VContainer-DDIA6_I2.js";import{V as N,a as s}from"./VRow-1sXKMjVm.js";import{V as E,a as F}from"./VCard-DkKUq9Xw.js";import{V as J}from"./VCardText-DxpVkpnf.js";import{V as M}from"./VForm-Bv_PGfyt.js";import{V as C}from"./VTextarea-DEXJEkcd.js";import{V as S}from"./VSelect-DPU1_UF_.js";import"./VAvatar-gDhFptrY.js";import"./VImg-DAcp9xse.js";import"./VList-C_vO-TC7.js";import"./VDivider-DOU2dJa1.js";import"./VChip-BxDWJl9X.js";const P={class:"profile-setup-container"},R={class:"text-body-1 text-medium-emphasis mt-2"},j={__name:"profile-setup",setup(A){const b=_(),a=p({phone:"",address:"",bio:"",country:"",city:"",state:"",zipcode:"",streetName:"",suburb:"",age:"",educationLevel:"",interests:[]}),i=p(!1),n=p(""),v=p(""),o=p(null),w=["ابتدائي","متوسط","ثانوي","جامعي","دراسات عليا"],z=["البرمجة","التصميم","الرياضيات","العلوم","اللغة الإنجليزية","التاريخ","الجغرافيا","الفنون","الموسيقى","الرياضة"];L(()=>{const m=localStorage.getItem("user");m?(o.value=JSON.parse(m),o.value&&(a.value.phone=o.value.phone||"",a.value.address=o.value.address||"",a.value.bio=o.value.bio||"",a.value.country=o.value.country||"",a.value.city=o.value.city||"",a.value.state=o.value.state||"",a.value.zipcode=o.value.zipcode||"",a.value.streetName=o.value.streetName||"",a.value.suburb=o.value.suburb||"")):b.push("/login")});const T=async()=>{if(!a.value.phone||!a.value.address||!a.value.age){n.value="يرجى ملء جميع الحقول المطلوبة";return}i.value=!0,n.value="",v.value="";try{await new Promise(m=>setTimeout(m,1e3)),v.value="تم حفظ البيانات بنجاح",o.value&&(o.value={...o.value,...a.value},localStorage.setItem("user",JSON.stringify(o.value))),setTimeout(()=>{b.push("/student/dashboard")},2e3)}catch(m){console.error("Error saving profile:",m),n.value="خطأ في حفظ البيانات. يرجى المحاولة مرة أخرى."}finally{i.value=!1}},B=()=>{b.push("/student/dashboard")};return(m,e)=>(c(),I("div",P,[l(D,{"max-width":"800"},{default:u(()=>[l(N,{justify:"center"},{default:u(()=>[l(s,{cols:"12",md:"8"},{default:u(()=>[l(E,{elevation:"2",class:"pa-6"},{default:u(()=>[l(F,{class:"text-center mb-6"},{default:u(()=>{var t;return[l(V,{size:"48",color:"primary",class:"mb-4"},{default:u(()=>e[13]||(e[13]=[d("mdi-account-edit")])),_:1}),e[14]||(e[14]=f("h2",{class:"text-h4"},"إكمال الملف الشخصي",-1)),f("p",R," مرحباً "+y((t=o.value)==null?void 0:t.name)+"! يرجى إكمال بياناتك الشخصية للاستفادة من جميع الميزات ",1)]}),_:1}),l(J,null,{default:u(()=>[n.value?(c(),x(U,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[0]||(e[0]=t=>n.value="")},{default:u(()=>[d(y(n.value),1)]),_:1})):g("",!0),v.value?(c(),x(U,{key:1,type:"success",variant:"tonal",class:"mb-4"},{default:u(()=>[l(V,{start:""},{default:u(()=>e[15]||(e[15]=[d("mdi-check-circle")])),_:1}),d(" "+y(v.value),1)]),_:1})):g("",!0),l(M,{onSubmit:q(T,["prevent"])},{default:u(()=>[l(N,null,{default:u(()=>[l(s,{cols:"12"},{default:u(()=>e[16]||(e[16]=[f("h3",{class:"text-h6 mb-4"},"المعلومات الأساسية",-1)])),_:1}),l(s,{cols:"12",md:"6"},{default:u(()=>[l(r,{modelValue:a.value.phone,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.phone=t),label:"رقم الهاتف",placeholder:"+966 50 123 4567",rules:[t=>!!t||"رقم الهاتف مطلوب"],required:""},null,8,["modelValue","rules"])]),_:1}),l(s,{cols:"12",md:"6"},{default:u(()=>[l(r,{modelValue:a.value.age,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.age=t),label:"العمر",type:"number",min:"10",max:"100",rules:[t=>!!t||"العمر مطلوب"],required:""},null,8,["modelValue","rules"])]),_:1}),l(s,{cols:"12"},{default:u(()=>[l(C,{modelValue:a.value.address,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.address=t),label:"العنوان",placeholder:"اكتب عنوانك الكامل",rows:"3",rules:[t=>!!t||"العنوان مطلوب"],required:""},null,8,["modelValue","rules"])]),_:1}),l(s,{cols:"12"},{default:u(()=>[l(C,{modelValue:a.value.bio,"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.bio=t),label:"نبذة شخصية",placeholder:"اكتب نبذة عن نفسك واهتماماتك",rows:"4"},null,8,["modelValue"])]),_:1}),l(s,{cols:"12",md:"6"},{default:u(()=>[l(S,{modelValue:a.value.educationLevel,"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.educationLevel=t),label:"مستوى التعليم",items:w,placeholder:"اختر مستوى التعليم"},null,8,["modelValue"])]),_:1}),l(s,{cols:"12",md:"6"},{default:u(()=>[l(S,{modelValue:a.value.interests,"onUpdate:modelValue":e[6]||(e[6]=t=>a.value.interests=t),label:"الاهتمامات",items:z,multiple:"",chips:"",placeholder:"اختر اهتماماتك"},null,8,["modelValue"])]),_:1}),l(s,{cols:"12"},{default:u(()=>e[17]||(e[17]=[f("h3",{class:"text-h6 mb-4"},"معلومات الموقع (اختيارية)",-1)])),_:1}),l(s,{cols:"12",md:"6"},{default:u(()=>[l(r,{modelValue:a.value.country,"onUpdate:modelValue":e[7]||(e[7]=t=>a.value.country=t),label:"البلد",placeholder:"السعودية"},null,8,["modelValue"])]),_:1}),l(s,{cols:"12",md:"6"},{default:u(()=>[l(r,{modelValue:a.value.city,"onUpdate:modelValue":e[8]||(e[8]=t=>a.value.city=t),label:"المدينة",placeholder:"الرياض"},null,8,["modelValue"])]),_:1}),l(s,{cols:"12",md:"6"},{default:u(()=>[l(r,{modelValue:a.value.state,"onUpdate:modelValue":e[9]||(e[9]=t=>a.value.state=t),label:"المنطقة",placeholder:"منطقة الرياض"},null,8,["modelValue"])]),_:1}),l(s,{cols:"12",md:"6"},{default:u(()=>[l(r,{modelValue:a.value.zipcode,"onUpdate:modelValue":e[10]||(e[10]=t=>a.value.zipcode=t),label:"الرمز البريدي",placeholder:"12345"},null,8,["modelValue"])]),_:1}),l(s,{cols:"12",md:"6"},{default:u(()=>[l(r,{modelValue:a.value.streetName,"onUpdate:modelValue":e[11]||(e[11]=t=>a.value.streetName=t),label:"اسم الشارع",placeholder:"شارع الملك فهد"},null,8,["modelValue"])]),_:1}),l(s,{cols:"12",md:"6"},{default:u(()=>[l(r,{modelValue:a.value.suburb,"onUpdate:modelValue":e[12]||(e[12]=t=>a.value.suburb=t),label:"الحي",placeholder:"حي النخيل"},null,8,["modelValue"])]),_:1}),l(s,{cols:"12",class:"text-center mt-6"},{default:u(()=>[l(k,{type:"submit",color:"primary",size:"large",loading:i.value,disabled:i.value,class:"me-4"},{default:u(()=>[l(V,{start:""},{default:u(()=>e[18]||(e[18]=[d("mdi-content-save")])),_:1}),e[19]||(e[19]=d(" حفظ البيانات "))]),_:1},8,["loading","disabled"]),l(k,{variant:"outlined",size:"large",onClick:B,disabled:i.value},{default:u(()=>[l(V,{start:""},{default:u(()=>e[20]||(e[20]=[d("mdi-skip-next")])),_:1}),e[21]||(e[21]=d(" تخطي الآن "))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}},ue=O(j,[["__scopeId","data-v-0683a8ed"]]);export{ue as default};
