const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/leaflet-src-DKrzrpRK.js","assets/_commonjsHelpers-Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{r as A,K as Ee,L as Be,f as z,o as U,e as s,d as b,b as r,k as q,q as C,b7 as N,cd as ze,A as se,x as ie,bg as Ne,b8 as Oe,t as $,J as Ye,ab as Ge,ac as Ke,ak as je,am as j,ap as ne,l as P,b1 as Je,bv as He,c6 as Qe,w as X,ad as We,m as O,bh as Xe,b5 as Ze,bi as $e,c7 as et,c3 as ve,az as pe,bP as tt,F as Z,ct as at,n as lt,c9 as rt,as as nt,c8 as ot,c as ge,b9 as he}from"./index-B-ugD3CV.js";import{_ as De}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as ue,b as ye}from"./VCard-q0Xiefi9.js";import{_ as st}from"./AppDateTimePicker-CMgdfasL.js";import{T as be}from"./teacher_api-B0aW0cjW.js";import{V as it}from"./VContainer-BuUEOvCs.js";import{V as oe,a as L}from"./VRow-_6XExfSs.js";import{V as de}from"./VAvatar-BSxHYKKi.js";import{V as ut}from"./VForm-DvwMwXnu.js";import{V as Ve}from"./VCardText-Dz05REAW.js";import{V as dt}from"./VFileInput-G6MrRpoi.js";import{u as ct,d as mt,e as ft,a as vt,V as pt}from"./VSelect-BF-InOJ4.js";import{V as gt}from"./VTextarea-JgwCPcl8.js";import{u as ht,m as yt}from"./filter-t3VeyftY.js";import{e as bt,V as Vt,a as xe}from"./VList-Dy5AF_mx.js";import{V as xt}from"./VChip-CqnLjyZp.js";import"./VImg-CPt2aJgH.js";import"./axios-D6DdSkOE.js";import"./VDivider-0jTJqE-a.js";const Dt={class:"d-flex align-center mb-4"},wt={class:"d-flex gap-2 mb-4"},kt={class:"position-relative"},St={class:"text-center"},_t={class:"mt-4 text-body-2 text-medium-emphasis"},Ct={__name:"MapPicker",props:{initialLat:{type:Number,default:31.2001},initialLng:{type:Number,default:29.9187}},emits:["locationUpdate"],setup(e,{emit:t}){const n=e,v=t,l=A(null),c=A(null),x=A(null),I=A(""),m=A(!0),M=A({latitude:n.initialLat,longitude:n.initialLng}),R=(V,d)=>{M.value={latitude:parseFloat(V.toFixed(6)),longitude:parseFloat(d.toFixed(6))},v("locationUpdate",M.value)},p=async()=>{if(I.value.trim())try{const d=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(I.value)}&limit=1`)).json();if(d.length>0&&c.value&&x.value){const D=parseFloat(d[0].lat),F=parseFloat(d[0].lon);c.value.setView([D,F],15),x.value.setLatLng([D,F]),R(D,F)}}catch(V){console.error("Search error:",V)}},g=()=>{if(!navigator.geolocation){alert("المتصفح لا يدعم تحديد الموقع.");return}navigator.geolocation.getCurrentPosition(V=>{const{latitude:d,longitude:D}=V.coords;c.value&&x.value&&(c.value.setView([d,D],15),x.value.setLatLng([d,D]),R(d,D))},V=>{console.error("Geolocation error:",V),alert("تعذّر الحصول على موقعك الحالي.")},{enableHighAccuracy:!0})};return Ee(async()=>{if(!(typeof window>"u"))try{const V=(await Ye(async()=>{const{default:D}=await import("./leaflet-src-DKrzrpRK.js").then(F=>F.l);return{default:D}},__vite__mapDeps([0,1]))).default,d=document.createElement("link");if(d.rel="stylesheet",d.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(d),l.value&&!c.value){const D=V.map(l.value,{attributionControl:!1}).setView([n.initialLat,n.initialLng],13);V.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(D);const F=V.divIcon({html:`<div class="bg-primary text-white rounded-circle pa-2 elevation-4" style="width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">
                 <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                   <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                 </svg>
               </div>`,className:"custom-marker",iconSize:[40,40],iconAnchor:[20,40]}),Y=V.marker([n.initialLat,n.initialLng],{draggable:!0,icon:F}).addTo(D);Y.on("moveend",G=>{const{lat:f,lng:i}=G.target.getLatLng();R(f,i)}),D.on("click",G=>{const{lat:f,lng:i}=G.latlng;Y.setLatLng([f,i]),R(f,i)}),c.value=D,x.value=Y,m.value=!1}}catch(V){console.error("Error loading map:",V),m.value=!1}}),Be(()=>{c.value&&c.value.remove()}),(V,d)=>(U(),z(ue,{class:"pa-4"},{default:s(()=>[b("div",Dt,[r(q,{color:"primary",class:"me-2"},{default:s(()=>d[1]||(d[1]=[C("mdi-map-marker")])),_:1}),d[2]||(d[2]=b("span",{class:"text-h6"},"تحديد الموقع",-1))]),d[5]||(d[5]=b("div",{class:"text-body-2 text-medium-emphasis mb-4"}," يرجى تحديد موقعك بدقة والموافقة على صلاحيات الموقع في متصفحك. سيتم استخدام موقعك لإرسال إشعارات للطلاب القريبين منك، ولاقتراح الدروس والخدمات لجميع الطلاب بناءً على موقعك الجغرافي. ",-1)),b("div",wt,[r(N,{modelValue:I.value,"onUpdate:modelValue":d[0]||(d[0]=D=>I.value=D),placeholder:"ابحث عن موقع...",variant:"outlined",density:"compact",onKeyup:ze(p,["enter"]),class:"flex-grow-1"},null,8,["modelValue"]),r(se,{onClick:p,icon:"mdi-magnify",variant:"outlined",size:"small"}),r(se,{onClick:g,icon:"mdi-crosshairs-gps",variant:"outlined",size:"small",color:"primary",title:"تحديد موقعي الحالي"})]),b("div",kt,[b("div",{ref_key:"mapContainer",ref:l,class:"map-container"},null,512),m.value?(U(),z(Ne,{key:0,contained:"",class:"d-flex align-center justify-center"},{default:s(()=>[b("div",St,[r(Oe,{indeterminate:"",color:"primary",class:"mb-2"}),d[3]||(d[3]=b("div",{class:"text-body-2"},"جاري تحميل الخريطة...",-1))])]),_:1})):ie("",!0)]),b("div",_t,[b("div",null,"خط العرض: "+$(M.value.latitude),1),b("div",null,"خط الطول: "+$(M.value.longitude),1),d[4]||(d[4]=b("div",{class:"text-caption mt-1"}," يمكنك سحب العلامة أو النقر على الخريطة لتحديد الموقع ",-1))])]),_:1}))}},It=De(Ct,[["__scopeId","data-v-a3b58e2e"]]);function Pt(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?r(Z,null,[r("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),r("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),r("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const Lt=Ke({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...yt({filterKeys:["title"]}),...mt(),...$e(et({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ze({transition:!1})},"VAutocomplete"),At=Ge()({name:"VAutocomplete",props:Lt(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:v}=je(),l=A(),c=j(!1),x=j(!0),I=j(!1),m=A(),M=A(),R=ne(e,"menu"),p=P({get:()=>R.value,set:a=>{var o;R.value&&!a&&((o=m.value)!=null&&o.ΨopenChildren.size)||(R.value=a)}}),g=j(-1),ce=P(()=>{var a;return(a=l.value)==null?void 0:a.color}),V=P(()=>p.value?e.closeText:e.openText),{items:d,transformIn:D,transformOut:F}=bt(e),{textColorClasses:Y,textColorStyles:G}=Je(ce),f=ne(e,"search",""),i=ne(e,"modelValue",[],a=>D(a===null?[null]:He(a)),a=>{const o=F(a);return e.multiple?o:o[0]??null}),we=P(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:i.value.length),J=Qe(e),{filteredItems:ee,getMatches:ke}=ht(e,d,()=>x.value?"":f.value),T=P(()=>e.hideSelected?ee.value.filter(a=>!i.value.some(o=>o.value===a.value)):ee.value),H=P(()=>!!(e.chips||n.chip)),K=P(()=>H.value||!!n.selection),Se=P(()=>i.value.map(a=>a.props.value)),te=P(()=>{var o;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&f.value===((o=T.value[0])==null?void 0:o.title))&&T.value.length>0&&!x.value&&!I.value}),ae=P(()=>e.hideNoData&&!T.value.length||J.isReadonly.value||J.isDisabled.value),le=A(),_e=ct(le,l);function Ce(a){e.openOnClear&&(p.value=!0),f.value=""}function Ie(){ae.value||(p.value=!0)}function Pe(a){ae.value||(c.value&&(a.preventDefault(),a.stopPropagation()),p.value=!p.value)}function Le(a){var o;ot(a)&&((o=l.value)==null||o.focus())}function Ae(a){var u,h,S;if(J.isReadonly.value)return;const o=l.value.selectionStart,y=i.value.length;if((g.value>-1||["Enter","ArrowDown","ArrowUp"].includes(a.key))&&a.preventDefault(),["Enter","ArrowDown"].includes(a.key)&&(p.value=!0),["Escape"].includes(a.key)&&(p.value=!1),te.value&&["Enter","Tab"].includes(a.key)&&!i.value.some(w=>{let{value:k}=w;return k===T.value[0].value})&&E(T.value[0]),a.key==="ArrowDown"&&te.value&&((u=le.value)==null||u.focus("next")),["Backspace","Delete"].includes(a.key)){if(!e.multiple&&K.value&&i.value.length>0&&!f.value)return E(i.value[0],!1);if(~g.value){const w=g.value;E(i.value[g.value],!1),g.value=w>=y-1?y-2:w}else a.key==="Backspace"&&!f.value&&(g.value=y-1)}if(e.multiple){if(a.key==="ArrowLeft"){if(g.value<0&&o>0)return;const w=g.value>-1?g.value-1:y-1;i.value[w]?g.value=w:(g.value=-1,l.value.setSelectionRange((h=f.value)==null?void 0:h.length,(S=f.value)==null?void 0:S.length))}if(a.key==="ArrowRight"){if(g.value<0)return;const w=g.value+1;i.value[w]?g.value=w:(g.value=-1,l.value.setSelectionRange(0,0))}}}function Fe(a){if(ve(l.value,":autofill")||ve(l.value,":-webkit-autofill")){const o=d.value.find(y=>y.title===a.target.value);o&&E(o)}}function Te(){var a;e.eager&&((a=M.value)==null||a.calculateVisibleItems())}function Ue(){var a;c.value&&(x.value=!0,(a=l.value)==null||a.focus())}function Me(a){c.value=!0,setTimeout(()=>{I.value=!0})}function Re(a){I.value=!1}function qe(a){(a==null||a===""&&!e.multiple&&!K.value)&&(i.value=[])}const re=j(!1);function E(a){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!a||a.props.disabled))if(e.multiple){const y=i.value.findIndex(h=>e.valueComparator(h.value,a.value)),u=o??!~y;if(~y){const h=u?[...i.value,a]:[...i.value];h.splice(y,1),i.value=h}else u&&(i.value=[...i.value,a]);e.clearOnSelect&&(f.value="")}else{const y=o!==!1;i.value=y?[a]:[],f.value=y&&!K.value?a.title:"",pe(()=>{p.value=!1,x.value=!0})}}return X(c,(a,o)=>{var y;a!==o&&(a?(re.value=!0,f.value=e.multiple||K.value?"":String(((y=i.value.at(-1))==null?void 0:y.props.title)??""),x.value=!0,pe(()=>re.value=!1)):(!e.multiple&&f.value==null&&(i.value=[]),p.value=!1,i.value.some(u=>{let{title:h}=u;return h===f.value})||(f.value=""),g.value=-1))}),X(f,a=>{!c.value||re.value||(a&&(p.value=!0),x.value=!a)}),X(p,()=>{if(!e.hideSelected&&p.value&&i.value.length){const a=T.value.findIndex(o=>i.value.some(y=>o.value===y.value));tt&&window.requestAnimationFrame(()=>{var o;a>=0&&((o=M.value)==null||o.scrollToIndex(a))})}}),X(()=>e.items,(a,o)=>{p.value||c.value&&!o.length&&a.length&&(p.value=!0)}),We(()=>{const a=!!(!e.hideNoData||T.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),o=i.value.length>0,y=N.filterProps(e);return r(N,O({ref:l},y,{modelValue:f.value,"onUpdate:modelValue":[u=>f.value=u,qe],focused:c.value,"onUpdate:focused":u=>c.value=u,validationValue:i.externalValue,counterValue:we.value,dirty:o,onChange:Fe,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":p.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!K.value,"v-autocomplete--selecting-index":g.value>-1},e.class],style:e.style,readonly:J.isReadonly.value,placeholder:o?void 0:e.placeholder,"onClick:clear":Ce,"onMousedown:control":Ie,onKeydown:Ae}),{...n,default:()=>r(Z,null,[r(lt,O({ref:m,modelValue:p.value,"onUpdate:modelValue":u=>p.value=u,activator:"parent",contentClass:"v-autocomplete__content",disabled:ae.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Te,onAfterLeave:Ue},e.menuProps),{default:()=>[a&&r(Vt,O({ref:le,selected:Se.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:u=>u.preventDefault(),onKeydown:Le,onFocusin:Me,onFocusout:Re,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},_e,e.listProps),{default:()=>{var u,h,S;return[(u=n["prepend-item"])==null?void 0:u.call(n),!T.value.length&&!e.hideNoData&&(((h=n["no-data"])==null?void 0:h.call(n))??r(xe,{title:v(e.noDataText)},null)),r(ft,{ref:M,renderless:!0,items:T.value},{default:w=>{var fe;let{item:k,index:B,itemRef:_}=w;const me=O(k.props,{ref:_,key:B,active:te.value&&B===0?!0:void 0,onClick:()=>E(k,null)});return((fe=n.item)==null?void 0:fe.call(n,{item:k,index:B,props:me}))??r(xe,O(me,{role:"option"}),{prepend:Q=>{let{isSelected:W}=Q;return r(Z,null,[e.multiple&&!e.hideSelected?r(vt,{key:k.value,modelValue:W,ripple:!1,tabindex:"-1"},null):void 0,k.props.prependAvatar&&r(de,{image:k.props.prependAvatar},null),k.props.prependIcon&&r(q,{icon:k.props.prependIcon},null)])},title:()=>{var Q,W;return x.value?k.title:Pt(k.title,(Q=ke(k))==null?void 0:Q.title,((W=f.value)==null?void 0:W.length)??0)}})}}),(S=n["append-item"])==null?void 0:S.call(n)]}})]}),i.value.map((u,h)=>{function S(_){_.stopPropagation(),_.preventDefault(),E(u,!1)}const w={"onClick:close":S,onKeydown(_){_.key!=="Enter"&&_.key!==" "||(_.preventDefault(),_.stopPropagation(),S(_))},onMousedown(_){_.preventDefault(),_.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},k=H.value?!!n.chip:!!n.selection,B=k?rt(H.value?n.chip({item:u,index:h,props:w}):n.selection({item:u,index:h})):void 0;if(!(k&&!B))return r("div",{key:u.value,class:["v-autocomplete__selection",h===g.value&&["v-autocomplete__selection--selected",Y.value]],style:h===g.value?G.value:{}},[H.value?n.chip?r(nt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:u.title}}},{default:()=>[B]}):r(xt,O({key:"chip",closable:e.closableChips,size:"small",text:u.title,disabled:u.props.disabled},w),null):B??r("span",{class:"v-autocomplete__selection-text"},[u.title,e.multiple&&h<i.value.length-1&&r("span",{class:"v-autocomplete__selection-comma"},[C(",")])])])})]),"append-inner":function(){var w;for(var u=arguments.length,h=new Array(u),S=0;S<u;S++)h[S]=arguments[S];return r(Z,null,[(w=n["append-inner"])==null?void 0:w.call(n,...h),e.menuIcon?r(q,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Pe,onClick:at,"aria-label":v(V.value),title:v(V.value),tabindex:"-1"},null):void 0])}})}),Xe({isFocused:c,isPristine:x,menu:p,search:f,filteredItems:ee,select:E},l)}}),Ft={name:"StudentProfileForm",data(){return{user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},form:null,isLoading:!1,error:"",success:"",formData:{name:"",phone:"",studyYear:localStorage.getItem("studyYear")?JSON.parse(localStorage.getItem("studyYear")):null,bio:"",experienceYears:"",gradeIds:[],address:"",gender:null,birthDate:null,latitude:31.2001,longitude:29.9187,profileImageBase64:null},grades:[],genderOptions:[{text:"ذكر",value:"male"},{text:"أنثى",value:"female"}],rules:{required:e=>!!e||"هذا الحقل مطلوب",phone:e=>/^[0-9]{10,15}$/.test(e)||"رقم الهاتف غير صحيح"},avatarPreviewSrc:null}},created(){var e,t,n;this.getAllGrades(),this.formData.name=this.user.name,this.formData.phone=this.user.phone,this.formData.bio=this.user.bio,this.formData.experienceYears=this.user.experienceYears,this.formData.address=this.user.address,this.formData.gender=this.user.gender,this.formData.latitude=(e=this.user.location)!=null&&e.latitude?parseFloat(this.user.location.latitude):31.2001,this.formData.longitude=(t=this.user.location)!=null&&t.longitude?parseFloat(this.user.location.longitude):29.9187,this.formData.birthDate=this.user.birthDate,this.user.teacherGrades&&this.user.teacherGrades.length&&(this.formData.gradeIds=this.user.teacherGrades.map(v=>v.gradeId)),(n=this.user)!=null&&n.profileImagePath&&(this.avatarPreviewSrc=this.user.profileImagePath)},methods:{handleLocationUpdate(e){this.formData.latitude=e.latitude,this.formData.longitude=e.longitude},async onAvatarSelected(e){var t,n;try{const v=Array.isArray(e)?e[0]:((n=(t=e==null?void 0:e.target)==null?void 0:t.files)==null?void 0:n[0])||e;if(!v)return;const l=await this.fileToBase64(v);this.formData.profileImageBase64=l,this.avatarPreviewSrc=l}catch(v){console.error("avatar select error",v),this.error="تعذر قراءة الصورة المختارة"}},fileToBase64(e){return new Promise((t,n)=>{const v=new FileReader;v.onload=()=>t(v.result),v.onerror=n,v.readAsDataURL(e)})},validateForm(){return this.formData.name.trim()?this.formData.phone.trim()?this.formData.bio.trim()?!this.formData.experienceYears&&this.formData.experienceYears!==0?"سنوات الخبرة مطلوبة":!this.formData.gradeIds||!this.formData.gradeIds.length?"الصف الدراسي مطلوب":this.formData.address.trim()?this.formData.gender?this.formData.birthDate?null:"تاريخ الميلاد مطلوب":"الجنس مطلوب":"العنوان مطلوب":"النبذة مطلوبة":"رقم هاتف مطلوب":"اسم الطالب مطلوب"},async getAllGrades(){var e,t;try{const n=await be.getAllGrades();this.grades=n.data.data}catch(n){console.error("Error saving profile:",n),this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||"حدث خطأ أثناء حفظ البيانات. يرجى المحاولة مرة أخرى."}finally{this.isLoading=!1}},async handleSubmit(){var n,v;const{valid:e}=await this.$refs.form.validate();if(!e)return;const t=this.validateForm();if(t){this.error=t;return}this.isLoading=!0,this.error="",this.success="";try{const l={...this.formData},c=await be.completeProfile(l);if(c.status===200||c.status===201){const x=c.data.data.user||this.formData;localStorage.setItem("user",JSON.stringify(x)),localStorage.setItem("isProfileComplete",c.data.data.isProfileComplete),this.success="تم حفظ بيانات المعلم بنجاح!",this.$router.push("/teacher/dashboard")}}catch(l){console.error("Error saving profile:",l),this.error=((v=(n=l.response)==null?void 0:n.data)==null?void 0:v.message)||"حدث خطأ أثناء حفظ البيانات. يرجى المحاولة مرة أخرى."}finally{this.isLoading=!1}}}},Tt={class:"text-center mb-8"},Ut=["src"],Mt={class:"d-flex align-center flex-wrap ga-4"},Rt=["src"],qt={class:"text-center pt-6"};function Et(e,t,n,v,l,c){const x=st,I=It;return U(),z(it,{fluid:"",class:"min-height-screen pa-8",style:{background:`linear-gradient(
      135deg,
      rgba(16, 185, 129, 5%) 0%,
      rgba(255, 255, 255, 100%) 50%,
      rgba(34, 197, 94, 5%) 100%
    )`}},{default:s(()=>[r(oe,{justify:"center"},{default:s(()=>[r(L,{cols:"12",md:"10",lg:"8"},{default:s(()=>[b("div",Tt,[r(de,{size:"96",class:"mb-4",variant:"elevated"},{default:s(()=>[l.avatarPreviewSrc?(U(),ge("img",{key:0,src:l.avatarPreviewSrc,alt:"Teacher Avatar"},null,8,Ut)):(U(),z(q,{key:1,size:"48",color:"primary"},{default:s(()=>t[10]||(t[10]=[C("mdi-account")])),_:1}))]),_:1}),t[11]||(t[11]=b("h1",{class:"text-h3 font-weight-bold mb-2"},"إعداد ملف الشخصي",-1)),t[12]||(t[12]=b("p",{class:"text-h6 text-medium-emphasis"}," يرجى إكمال البيانات التالية لإنشاء ملف الشخصي ",-1))]),r(ut,{ref:"form"},{default:s(()=>[l.error?(U(),z(he,{key:0,type:"error",variant:"tonal",class:"mb-6",closable:"","onClick:close":t[0]||(t[0]=m=>l.error="")},{default:s(()=>[C($(l.error),1)]),_:1})):ie("",!0),l.success?(U(),z(he,{key:1,type:"success",variant:"tonal",class:"mb-6",closable:"","onClick:close":t[1]||(t[1]=m=>l.success="")},{default:s(()=>[C($(l.success),1)]),_:1})):ie("",!0),r(ue,{class:"mb-6",elevation:"2"},{default:s(()=>[r(ye,{class:"d-flex align-center"},{default:s(()=>[r(q,{color:"primary",class:"me-2"},{default:s(()=>t[13]||(t[13]=[C("mdi-account")])),_:1}),t[14]||(t[14]=C(" المعلومات الشخصية "))]),_:1}),r(Ve,null,{default:s(()=>[r(oe,null,{default:s(()=>[r(L,{cols:"12"},{default:s(()=>[b("div",Mt,[r(de,{size:"72"},{default:s(()=>[l.avatarPreviewSrc?(U(),ge("img",{key:0,src:l.avatarPreviewSrc,alt:"Teacher Avatar"},null,8,Rt)):(U(),z(q,{key:1,size:"36"},{default:s(()=>t[15]||(t[15]=[C("mdi-account")])),_:1}))]),_:1}),b("div",null,[t[16]||(t[16]=b("div",{class:"text-body-2 mb-2"},"صورة الملف الشخصي (اختياري)",-1)),r(dt,{accept:"image/*",variant:"outlined",density:"comfortable","show-size":"","prepend-icon":"mdi-image",label:"اختر صورة",onChange:c.onAvatarSelected},null,8,["onChange"]),t[17]||(t[17]=b("div",{class:"text-caption text-medium-emphasis mt-1"},"يدعم: PNG, JPG. الحجم الموصى به أقل من 2MB. ",-1))])])]),_:1}),r(L,{cols:"12",md:"6"},{default:s(()=>[r(N,{modelValue:l.formData.name,"onUpdate:modelValue":t[2]||(t[2]=m=>l.formData.name=m),label:"اسم الكامل *",placeholder:"أدخل اسم الكامل",variant:"outlined",rules:[l.rules.required],required:""},null,8,["modelValue","rules"])]),_:1}),r(L,{cols:"12",md:"6"},{default:s(()=>[r(N,{modelValue:l.formData.phone,"onUpdate:modelValue":t[3]||(t[3]=m=>l.formData.phone=m),label:"رقم الهاتف *",placeholder:"أدخل رقم الهاتف",variant:"outlined",rules:[l.rules.required],required:""},null,8,["modelValue","rules"])]),_:1}),r(L,{cols:"12",md:"6"},{default:s(()=>[r(pt,{modelValue:l.formData.gender,"onUpdate:modelValue":t[4]||(t[4]=m=>l.formData.gender=m),label:"الجنس *",items:l.genderOptions,"item-title":"text","item-value":"value",variant:"outlined",rules:[l.rules.required],required:""},null,8,["modelValue","items","rules"])]),_:1}),r(L,{cols:"12",md:"6"},{default:s(()=>[r(x,{id:"invoiceStartDate",modelValue:l.formData.birthDate,"onUpdate:modelValue":t[5]||(t[5]=m=>l.formData.birthDate=m),label:"تاريخ الميلاد *",variant:"outlined",rules:[l.rules.required],required:""},null,8,["modelValue","rules"])]),_:1}),r(L,{cols:"12",md:"6"},{default:s(()=>[r(N,{modelValue:l.formData.experienceYears,"onUpdate:modelValue":t[6]||(t[6]=m=>l.formData.experienceYears=m),label:"سنوات الخبرة *",variant:"outlined",rules:[l.rules.required],required:""},null,8,["modelValue","rules"])]),_:1}),r(L,{cols:"12",md:"6"},{default:s(()=>[r(N,{modelValue:l.formData.address,"onUpdate:modelValue":t[7]||(t[7]=m=>l.formData.address=m),label:"العنوان *",variant:"outlined",rules:[l.rules.required],required:""},null,8,["modelValue","rules"])]),_:1}),r(L,{cols:"12",md:"12"},{default:s(()=>[r(gt,{modelValue:l.formData.bio,"onUpdate:modelValue":t[8]||(t[8]=m=>l.formData.bio=m),label:"نبذة عن نفسك *",variant:"outlined",rules:[l.rules.required],required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})]),_:1}),r(ue,{class:"mb-6",elevation:"2"},{default:s(()=>[r(ye,{class:"d-flex align-center"},{default:s(()=>[r(q,{color:"primary",class:"me-2"},{default:s(()=>t[18]||(t[18]=[C("mdi-school-outline")])),_:1}),t[19]||(t[19]=C(" المعلومات الأكاديمية "))]),_:1}),r(Ve,null,{default:s(()=>[r(oe,null,{default:s(()=>[r(L,{cols:"12",md:"6"},{default:s(()=>[r(At,{modelValue:l.formData.gradeIds,"onUpdate:modelValue":t[9]||(t[9]=m=>l.formData.gradeIds=m),label:"الصفوف التي تدرسها *",items:l.grades,"item-title":"name","item-value":"id",variant:"outlined",rules:[l.rules.required],chips:"",multiple:"",required:""},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1})]),_:1}),r(I,{"initial-lat":l.formData.latitude,"initial-lng":l.formData.longitude,onLocationUpdate:c.handleLocationUpdate,class:"mb-6"},null,8,["initial-lat","initial-lng","onLocationUpdate"])]),_:1},512),b("div",qt,[r(se,{type:"submit",color:"primary",size:"large",loading:l.isLoading,disabled:l.isLoading,onClick:c.handleSubmit,class:"px-12"},{default:s(()=>[r(q,{start:""},{default:s(()=>t[20]||(t[20]=[C("mdi-school")])),_:1}),t[21]||(t[21]=C(" حفظ بيانات "))]),_:1},8,["loading","disabled","onClick"])])]),_:1})]),_:1})]),_:1})}const ra=De(Ft,[["render",Et],["__scopeId","data-v-af515732"]]);export{ra as default};
