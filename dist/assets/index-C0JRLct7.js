import{Y as X,Z as E,X as G,r as I,$ as Z,N as q,z as M,m as ee,l as W,w as T,a as te,f as y,o as s,e as b,d as u,h as V,b as L,i as e,A as S,t as P,O as g,B as A,g as N,y as w,c as _,F as D,x as F,D as O,a0 as ae,a1 as z,k as ie,a2 as ne,n as B,a3 as H,P as j,a4 as R,a5 as se,a6 as le,a7 as re,a8 as oe,Q as ce,R as ue,s as ve}from"./index-CXn58W-A.js";import{l as de}from"./logo-DZO2jDAJ.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as pe}from"./vue3-perfect-scrollbar-DOInTAEN.js";import{c as me,a as Y}from"./casl-hETBj-Tc.js";const he=X({name:"TransitionExpand",setup(a,{slots:r}){const v=t=>{const h=getComputedStyle(t).width;t.style.width=h,t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto";const f=getComputedStyle(t).height;t.style.width="",t.style.position="",t.style.visibility="",t.style.height="0px",getComputedStyle(t).height,requestAnimationFrame(()=>{t.style.height=f})},m=t=>{t.style.height="auto"},n=t=>{const h=getComputedStyle(t).height;t.style.height=h,getComputedStyle(t).height,requestAnimationFrame(()=>{t.style.height="0px"})};return()=>E(E(G),{name:"expand",onEnter:v,onAfterEnter:m,onLeave:n},()=>{var t;return(t=r.default)==null?void 0:t.call(r)})}}),ge=U(he,[["__scopeId","data-v-e5b9cc91"]]),ye={class:"nav-header"},fe=["src"],Ne={class:"header-action"},be={__name:"VerticalNav",props:{tag:{type:null,required:!1,default:"aside"},navItems:{type:null,required:!0},isOverlayNavActive:{type:Boolean,required:!0},toggleIsOverlayNavActive:{type:Function,required:!0}},setup(a){const r=a,v=I(),m=Z(v);ae(z,m);const n=q(),t=I(null),h=I(null),f=M(()=>{if(!h.value)return[];const c=i=>!i||i===h.value;return r.navItems.map(i=>{if("heading"in i)return c(i.type)?i:null;if("children"in i){const k=i.children.filter($=>c($.type));return k.length>0?{...i,children:k}:null}return c(i.type)?i:null}).filter(Boolean)}),l=()=>{var i;const c=localStorage.getItem("user");if(c)try{t.value=JSON.parse(c),h.value=(i=t.value)==null?void 0:i.userType}catch(k){console.error("Error parsing user data:",k),t.value=null,h.value=null}else t.value=null,h.value=null};ee(()=>{l(),window.addEventListener("storage",k=>{k.key==="user"&&l()});const c=localStorage.setItem,i=localStorage.removeItem;localStorage.setItem=function(k,$){c.apply(this,arguments),k==="user"&&l()},localStorage.removeItem=function(k){i.apply(this,arguments),k==="user"&&l()}});const C=c=>"heading"in c?xe:"children"in c?Ce:J,x=W();T(()=>x.name,()=>{r.toggleIsOverlayNavActive(!1)});const o=I(!1),d=c=>o.value=c,p=c=>{o.value=c.target.scrollTop>0},K=n.isVerticalNavMini(m);return(c,i)=>{const k=te("RouterLink");return s(),y(N(r.tag),{ref_key:"refNav",ref:v,"data-allow-mismatch":"",class:O(["layout-vertical-nav",[{"overlay-nav":e(n).isLessThanOverlayNavBreakpoint,hovered:e(m),visible:a.isOverlayNavActive,scrolled:o.value}]])},{default:b(()=>[u("div",ye,[V(c.$slots,"nav-header",{},()=>[L(k,{to:"/",class:"app-logo app-title-wrapper"},{default:b(()=>[u("img",{style:{"inline-size":"60px"},src:e(de)},null,8,fe),L(G,{name:"vertical-nav-app-title"},{default:b(()=>[S(u("h1",{class:"app-logo-title leading-normal"},P(e(g).app.title),513),[[A,!e(K)]])]),_:1})]),_:1}),u("div",Ne,[S((s(),y(N(e(g).app.iconRenderer||"div"),w({class:["d-none nav-unpin",e(n).isVerticalNavCollapsed&&"d-lg-block"]},e(g).icons.verticalNavUnPinned,{onClick:i[0]||(i[0]=$=>e(n).isVerticalNavCollapsed=!e(n).isVerticalNavCollapsed)}),null,16,["class"])),[[A,e(n).isVerticalNavCollapsed]]),S((s(),y(N(e(g).app.iconRenderer||"div"),w({class:["d-none nav-pin",!e(n).isVerticalNavCollapsed&&"d-lg-block"]},e(g).icons.verticalNavPinned,{onClick:i[1]||(i[1]=$=>e(n).isVerticalNavCollapsed=!e(n).isVerticalNavCollapsed)}),null,16,["class"])),[[A,!e(n).isVerticalNavCollapsed]]),(s(),y(N(e(g).app.iconRenderer||"div"),w({class:"d-lg-none"},e(g).icons.close,{onClick:i[2]||(i[2]=$=>a.toggleIsOverlayNavActive(!1))}),null,16))])],!0)]),V(c.$slots,"before-nav-items",{},()=>[i[3]||(i[3]=u("div",{class:"vertical-nav-items-shadow"},null,-1))],!0),V(c.$slots,"nav-items",{updateIsVerticalNavScrolled:d},()=>[(s(),y(e(pe),{key:e(n).isAppRTL,tag:"ul",class:"nav-items",options:{wheelPropagation:!1},onPsScrollY:p},{default:b(()=>[(s(!0),_(D,null,F(f.value,($,Q)=>(s(),y(N(C($)),{key:Q,item:$},null,8,["item"]))),128))]),_:1}))],!0),V(c.$slots,"after-nav-items",{},void 0,!0)]),_:3},8,["class"])}}},ke=U(be,[["__scopeId","data-v-1c1d18cc"]]),we={class:"nav-group-children"},Ce=Object.assign({name:"VerticalNavGroup"},{__name:"VerticalNavGroup",props:{item:{type:null,required:!0}},setup(a){const r=a,v=W(),m=ie(),n=q(),t=n.isVerticalNavMini(),h=ne(z,I(!1)),f=I(!1),l=I(!1),C=o=>o.some(d=>{let p=R.value.includes(d.title);return"children"in d&&(p=C(d.children)||p),p}),x=o=>{o.forEach(d=>{"children"in d&&x(d.children),R.value=R.value.filter(p=>p!==d.title)})};return T(()=>v.path,()=>{const o=j(r.item.children,m);l.value=o&&!n.isVerticalNavMini(h).value,f.value=o},{immediate:!0}),T(l,o=>{const d=R.value.indexOf(r.item.title);o&&d===-1?R.value.push(r.item.title):!o&&d!==-1&&(R.value.splice(d,1),x(r.item.children))},{immediate:!0}),T(R,o=>{if(o.at(-1)===r.item.title)return;const p=j(r.item.children,m);p||C(r.item.children)||(l.value=p,f.value=p)},{deep:!0}),T(n.isVerticalNavMini(h),o=>{l.value=o?!1:f.value}),(o,d)=>e(me)(a.item)?(s(),_("li",{key:0,class:O(["nav-group",[{active:e(f),open:e(l),disabled:a.item.disable}]])},[u("div",{class:"nav-group-label",onClick:d[0]||(d[0]=p=>l.value=!e(l))},[(s(),y(N(e(g).app.iconRenderer||"div"),w(a.item.icon||e(g).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),(s(),y(N(H),{name:"transition-slide-x"},{default:b(()=>[S(u("span",{key:"title",class:"nav-item-title"},P(a.item.title),513),[[A,!e(t)]]),a.item.badgeContent?S((s(),_("span",{key:"badge",class:O(["nav-item-badge",a.item.badgeClass])},P(a.item.badgeContent),3)),[[A,!e(t)]]):B("",!0),S((s(),y(N(e(g).app.iconRenderer||"div"),w(e(g).icons.chevronRight,{key:"arrow",class:"nav-group-arrow"}),null,16)),[[A,!e(t)]])]),_:1}))]),L(e(ge),null,{default:b(()=>[S(u("ul",we,[(s(!0),_(D,null,F(a.item.children,p=>(s(),y(N("children"in p?"VerticalNavGroup":e(J)),{key:p.title,item:p},null,8,["item"]))),128))],512),[[A,e(l)]])]),_:1})],2)):B("",!0)}}),Ve={class:"layout-content-wrapper"},Ie={class:"navbar-content-container"},Se={class:"layout-page-content"},Ae={class:"page-content-container"},$e={class:"layout-footer"},_e={class:"footer-content-container"},Ge={__name:"VerticalNavLayout",props:{navItems:{type:null,required:!0},verticalNavAttrs:{type:Object,required:!1,default:()=>({})}},setup(a){const r=a,{width:v}=se(),m=q(),n=I(!1),t=I(!1),h=le(n);re(n,t),T(v,()=>{!m.isLessThanOverlayNavBreakpoint&&t.value&&(t.value=!1)});const f=M(()=>{const l=oe(r,"verticalNavAttrs"),{wrapper:C,wrapperProps:x,...o}=l.value;return{verticalNavWrapper:C,verticalNavWrapperProps:x,additionalVerticalNavAttrs:o}});return(l,C)=>(s(),_("div",{class:O(["layout-wrapper",e(m)._layoutClasses]),"data-allow-mismatch":""},[(s(),y(N(e(f).verticalNavWrapper?e(f).verticalNavWrapper:"div"),w(e(f).verticalNavWrapperProps,{class:"vertical-nav-wrapper"}),{default:b(()=>[L(e(ke),w({"is-overlay-nav-active":e(n),"toggle-is-overlay-nav-active":e(h),"nav-items":r.navItems},{...e(f).additionalVerticalNavAttrs}),{"nav-header":b(()=>[V(l.$slots,"vertical-nav-header")]),"before-nav-items":b(()=>[V(l.$slots,"before-vertical-nav-items")]),_:3},16,["is-overlay-nav-active","toggle-is-overlay-nav-active","nav-items"])]),_:3},16)),u("div",Ve,[u("header",{class:O(["layout-navbar",[{"navbar-blur":e(m).isNavbarBlurEnabled}]])},[u("div",Ie,[V(l.$slots,"navbar",{toggleVerticalOverlayNavActive:e(h)})])],2),u("main",Se,[u("div",Ae,[V(l.$slots,"default")])]),u("footer",$e,[u("div",_e,[V(l.$slots,"footer")])])]),u("div",{class:O(["layout-overlay",[{visible:e(t)}]]),onClick:C[0]||(C[0]=()=>{t.value=!e(t)})},null,2)],2))}},J={__name:"VerticalNavLink",props:{item:{type:null,required:!0}},setup(a){const v=q().isVerticalNavMini();return(m,n)=>e(Y)(a.item.action,a.item.subject)?(s(),_("li",{key:0,class:O(["nav-link",{disabled:a.item.disable}])},[(s(),y(N(a.item.to?"RouterLink":"a"),w(e(ue)(a.item),{class:{"router-link-active router-link-exact-active":e(ce)(a.item,m.$router)}}),{default:b(()=>[(s(),y(N(e(g).app.iconRenderer||"div"),w(a.item.icon||e(g).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),L(H,{name:"transition-slide-x"},{default:b(()=>[S(u("span",{key:"title",class:"nav-item-title"},P(a.item.title),513),[[A,!e(v)]]),a.item.badgeContent?S((s(),_("span",{key:"badge",class:O(["nav-item-badge",a.item.badgeClass])},P(a.item.badgeContent),3)),[[A,!e(v)]]):B("",!0)]),_:1})]),_:1},16,["class"]))],2)):B("",!0)}},Oe={key:0,class:"nav-section-title"},Re={class:"title-wrapper"},xe={__name:"VerticalNavSectionTitle",props:{item:{type:null,required:!0}},setup(a){const v=q().isVerticalNavMini();return(m,n)=>e(Y)(a.item.action,a.item.subject)?(s(),_("li",Oe,[u("div",Re,[L(G,{name:"vertical-nav-section-title",mode:"out-in"},{default:b(()=>[(s(),y(N(e(v)?e(g).app.iconRenderer:"span"),w({key:e(v),class:e(v)?"placeholder-icon":"title-text"},e(v)?e(g).icons.sectionTitlePlaceholder:{}),{default:b(()=>[ve(P(e(v)?null:a.item.heading),1)]),_:1},16,["class"]))]),_:1})])])):B("",!0)}},Ee=[{heading:"لوحة التحكم",type:"super_admin"},{title:"الصفحة الرئيسية",to:{name:"admin-dashboard"},type:"super_admin",icon:{icon:"ri-home-smile-line"}},{title:"السنه الدراسية",to:{name:"admin-study-years-show-study-years"},type:"super_admin",icon:{icon:"ri-file-text-line"}},{title:"المراحل الدراسية",to:{name:"admin-grades-show-grades"},type:"super_admin",icon:{icon:"ri-file-text-line"}},{title:"باقات الاشتراك",to:{name:"admin-subscription-packages-show-subscription-packages"},type:"super_admin",icon:{icon:"ri-file-text-line"}},{title:"المعلمين",to:{name:"admin-teachers-show-teachers"},type:"super_admin",icon:{icon:"ri-team-line"}},{heading:"الرئيسية",type:"teacher"},{title:"الصفحة الرئيسية",to:{name:"teacher-dashboard"},type:"teacher",icon:{icon:"ri-home-smile-line"}},{heading:"الحسابات والفوترة",type:"teacher"},{title:"فواتير العربون",to:{name:"teacher-payments-reservations-show-reservation-payments"},type:"teacher",icon:{icon:"ri-wallet-3-line"}},{title:"فواتير الطلاب",to:{name:"teacher-invoices-manage-invoices"},type:"teacher",icon:{icon:"ri-bill-line"}},{heading:"المحتوى الدراسي والحجوزات",type:"teacher"},{title:"المواد الدراسية",to:{name:"teacher-subjects-show-subjects"},type:"teacher",icon:{icon:"ri-book-2-line"}},{title:"الكورسات",to:{name:"teacher-course-show-course"},type:"teacher",icon:{icon:"ri-graduation-cap-line"}},{title:"الحجوزات",to:{name:"teacher-bookings-show-bookings"},type:"teacher",icon:{icon:"ri-calendar-check-line"}},{heading:"الجدول والمتابعة",type:"teacher"},{title:"الجدول الأسبوعي",to:{name:"teacher-sessions-manage-sessions"},type:"teacher",icon:{icon:"ri-calendar-event-line"}},{title:"تقييمات الطلاب",to:{name:"teacher-evaluations-manage-evaluations"},type:"teacher",icon:{icon:"ri-award-line"}},{heading:"التواصل والمهام",type:"teacher"},{title:"الإشعارات",to:{name:"teacher-notifications-show-notifications"},type:"teacher",icon:{icon:"ri-notification-3-line"}},{title:"الواجبات",to:{name:"teacher-assignments-manage-assignments"},type:"teacher",icon:{icon:"ri-task-line"}},{heading:"الاختبارات والنتائج",type:"teacher"},{title:"الامتحانات والدرجات",to:{name:"teacher-exams-manage-exams"},type:"teacher",icon:{icon:"ri-file-list-3-line"}}];export{Ge as _,Ee as n};
