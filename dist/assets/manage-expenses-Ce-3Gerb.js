import{_ as Y}from"./BaseAlert-B7PZHURR.js";import{_ as U}from"./ConfirmDangerDialog-CGsm43ei.js";import{_ as L}from"./SmartTable-LGudWv2R.js";import{_ as N}from"./AppDateTimePicker-CvTLQXuu.js";import{_ as B}from"./AppBreadcrumbs-CbmSjfOn.js";import{T as h}from"./teacher_api-CgB6fFx4.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as f,b as y,a as k,c as M}from"./VCard-CBPwRQhR.js";import{V as S}from"./VDialog-N4WR69CN.js";import{c as z,b as t,f as C,x as I,e as o,o as w,d as n,k as v,t as u,A as D,q as x,V as E,b7 as R}from"./index-B_A_UGf-.js";import{V as c}from"./VDivider-Conlu035.js";import{V as b,a as d}from"./VRow-DsXvHsvC.js";import{V as _}from"./VCardText-BWyx6VBY.js";import{V as O}from"./VSelect-BCxvD-wi.js";import{V as W}from"./VChip-BWlPf9tC.js";import{V as P}from"./VTextarea-Bxpnq8NQ.js";import"./number-DRUmGIrN.js";import"./VDataTable-DbM1iDiq.js";import"./VTable-CEsLxIJM.js";import"./filter-B6bRDRWJ.js";import"./VTooltip-MO4tEoa_.js";import"./axios-WFtL0f35.js";import"./VAvatar-BaPloNUq.js";import"./VImg-Mh6Lj_73.js";import"./VList-khjaFYbC.js";const j={components:{ConfirmDangerDialog:U},data(){return{keyName:"manage-expenses-enhanced",results:JSON.parse(localStorage.getItem("user")),breadcrumbItems:[{title:"الرئيسية",disabled:!1,to:"/teacher/index"},{title:"المصاريف",disabled:!0}],loading:!1,progress:0,alert:{open:!1,type:"success",message:""},tableActions:["تعديل","حذف","اعادة تفعيل"],studyYears:[],yearsLoading:!1,filters:{studyYear:"",from:null,to:null,deleted:!1},deletedItems:[{text:"غير محذوف",value:!1},{text:"محذوف",value:!0}],tableOptions:{page:1,limit:10},headers:[{title:"#",type:"strong",sortable:!1,key:"num"},{title:"التاريخ",type:"date",sortable:!0,key:"expense_date"},{title:"المبلغ",type:"number",sortable:!0,key:"amount"},{title:"ملاحظة",type:"text",sortable:!1,key:"note"},{title:"إجراءات",type:"strong",sortable:!1,key:"actions"}],items:[],tableLoading:!1,total:0,summary:{totalAmount:0,count:0,averageAmount:0,studyYear:""},categoryItems:[{text:"رواتب",value:"salaries"},{text:"إيجار",value:"rent"},{text:"كهرباء وماء",value:"utilities"},{text:"صيانة",value:"maintenance"},{text:"قرطاسية",value:"stationery"},{text:"أخرى",value:"other"}],paymentMethods:[{text:"نقد",value:"cash"},{text:"تحويل بنكي",value:"bank_transfer"},{text:"بطاقة",value:"card"}],dialog:{open:!1,mode:"add",currentId:null},form:{amount:null,expense_date:null,note:"",category:"other",paymentMethod:"cash",created_at:null,updated_at:null},errors:{amount:"",expense_date:""},saving:!1,viewDialog:{open:!1,data:{}},deleteDialog:{open:!1,data:null,messages:[],title:null,confirmButtonText:null},restoreDialog:{open:!1,data:null,messages:[],title:null,confirmButtonText:null,checkboxLabel:null},exporting:!1}},computed:{totalPages(){return Math.max(1,Math.ceil(this.total/this.tableOptions.limit))}},created(){const l=JSON.parse(localStorage.getItem(this.keyName));l!=null&&l.filters&&(this.filters={...this.filters,...l.filters}),l!=null&&l.tableOptions&&(this.tableOptions={...this.tableOptions,...l.tableOptions}),this.loadAcademicYears()},methods:{numberWithComma(l){return l===""||l===null||typeof l>"u"?"0":Number(l).toLocaleString()},showAlert(l,e){Object.assign(this.alert,{open:!0,type:l,message:e})},formatDate(l){if(!l)return"";const e=new Date(l);return isNaN(e)?String(l).slice(0,10):e.toISOString().slice(0,10)},formatDateTime(l){if(!l)return"غير متوفر";const e=new Date(l);return isNaN(e)?String(l):e.toLocaleString("ar-EG")},formatMoney(l){if(l===""||l===null||typeof l>"u")return"";const e=Number(l);return isFinite(e)?e.toLocaleString():String(l)},parseMoney(l){if(l===""||l===null||typeof l>"u")return null;const e=String(l).replace(/[^0-9.-]/g,""),i=Number(e);return isFinite(i)?i:null},onFormatMoney(l,e){const i=this.parseMoney(e);this.form[l]=i},getCategoryLabel(l){const e=this.categoryItems.find(i=>i.value===l);return e?e.text:l||"غير محدد"},getPaymentMethodLabel(l){const e=this.paymentMethods.find(i=>i.value===l);return e?e.text:l||"غير محدد"},async loadAcademicYears(){var l;try{this.yearsLoading=!0;const e=await h.getAcademicYears(),i=((l=e==null?void 0:e.data)==null?void 0:l.data)||{},m=Array.isArray(i.years)?i.years:[],s=i.active||null;this.studyYears=m.map(a=>({label:a.year,value:a.year})),this.filters.studyYear||(this.filters.studyYear=(s==null?void 0:s.year)||""),await this.fetchExpenses()}catch{await this.fetchExpenses()}finally{this.yearsLoading=!1}},async fetchExpenses(){var l,e,i,m,s;try{this.tableLoading=!0,localStorage.setItem(this.keyName,JSON.stringify({filters:this.filters,tableOptions:this.tableOptions}));const a={page:this.tableOptions.page,limit:this.tableOptions.limit,studyYear:this.filters.studyYear||void 0,from:this.filters.from||void 0,to:this.filters.to||void 0};this.filters.deleted===!0&&(a.deleted=!0);const V=await h.getExpenses(a),p=(V==null?void 0:V.data)||{},A=Array.isArray(p.data)?p.data:[];this.total=((l=p.pagination)==null?void 0:l.total)||A.length,this.items=A.map((g,T)=>({...g,num:(this.tableOptions.page-1)*this.tableOptions.limit+T+1,is_deleted:typeof g.is_deleted<"u"?g.is_deleted:!!g.deleted_at})),this.summary={totalAmount:((e=p.summary)==null?void 0:e.totalAmount)||0,count:this.total,averageAmount:this.total>0?Math.round((((i=p.summary)==null?void 0:i.totalAmount)||0)/this.total):0,studyYear:this.filters.studyYear}}catch(a){this.showAlert("error",((s=(m=a==null?void 0:a.response)==null?void 0:m.data)==null?void 0:s.message)||"تعذر جلب المصاريف")}finally{this.tableLoading=!1}},reload(){localStorage.removeItem(this.keyName),this.filters={studyYear:"",from:null,to:null,deleted:!1},this.tableOptions={page:1,limit:10},this.loadAcademicYears()},onUpdateTableOptions(l){this.tableOptions={...this.tableOptions,...l},this.fetchExpenses()},applyFilters(){this.tableOptions.page=1,this.fetchExpenses()},resetFilters(){this.filters={studyYear:this.filters.studyYear||"",from:null,to:null,deleted:!1},this.applyFilters()},openAdd(){this.dialog={open:!0,mode:"add",currentId:null},this.form={amount:null,expense_date:null,note:"",category:"other",paymentMethod:"cash",created_at:null,updated_at:null},this.errors={amount:"",expense_date:""}},openEdit(l){this.dialog={open:!0,mode:"edit",currentId:l.id},this.form={amount:l.amount!=null?Number(l.amount):null,expense_date:l.expense_date?String(l.expense_date).slice(0,10):null,note:l.note||"",category:l.category||"other",paymentMethod:l.paymentMethod||"cash",created_at:l.created_at||null,updated_at:l.updated_at||null},this.errors={amount:"",expense_date:""}},closeDialog(){this.dialog.open=!1},validateForm(){this.errors={amount:"",expense_date:""};let l=!0;return(this.form.amount!=null?Number(this.form.amount):null)>0||(this.errors.amount="يرجى إدخال مبلغ صحيح",l=!1),this.form.expense_date||(this.errors.expense_date="يرجى إدخال تاريخ المصروف",l=!1),l},async submitDialog(){var l,e;if(!this.validateForm()){this.showAlert("error","يرجى تصحيح الأخطاء في النموذج");return}this.saving=!0;try{const i=Number(this.form.amount);if(this.dialog.mode==="add"){const m={amount:i,note:this.form.note||void 0,expense_date:this.form.expense_date,category:this.form.category||void 0,paymentMethod:this.form.paymentMethod||void 0};await h.addExpense(m),this.showAlert("success","تمت إضافة المصروف بنجاح")}else{const m={};this.form.amount!=null&&(m.amount=i),typeof this.form.note=="string"&&(m.note=this.form.note),this.form.expense_date&&(m.expense_date=this.form.expense_date),this.form.category&&(m.category=this.form.category),this.form.paymentMethod&&(m.paymentMethod=this.form.paymentMethod),await h.updateExpense(this.dialog.currentId,m),this.showAlert("success","تم تعديل المصروف بنجاح")}this.dialog.open=!1,this.fetchExpenses()}catch(i){this.showAlert("error",((e=(l=i==null?void 0:i.response)==null?void 0:l.data)==null?void 0:e.message)||"تعذر حفظ المصروف")}finally{this.saving=!1}},viewExpenseDetails(l){this.viewDialog.data={...l},this.viewDialog.open=!0},confirmDelete(l){this.deleteDialog.data=l,this.deleteDialog.messages=["سيتم حذف المصروف حذفًا منطقيًا (Soft Delete).","يمكن استرجاعه لاحقًا من خلال عملية الاسترجاع."],this.deleteDialog.title="تأكيد الحذف",this.deleteDialog.confirmButtonText="حذف المصروف",this.deleteDialog.open=!0},async handleDelete(){var l,e;try{await h.deleteExpense(this.deleteDialog.data.id),this.showAlert("success","تم حذف المصروف بنجاح"),this.fetchExpenses()}catch(i){this.showAlert("error",((e=(l=i==null?void 0:i.response)==null?void 0:l.data)==null?void 0:e.message)||"تعذر الحذف")}finally{this.deleteDialog.open=!1}},confirmRestore(l){this.restoreDialog.data=l,this.restoreDialog.messages=["سيتم استرجاع المصروف وإعادة تفعيله.","ستتمكن من تعديله واستخدامه كما كان."],this.restoreDialog.title="تأكيد الاسترجاع",this.restoreDialog.confirmButtonText="استرجاع المصروف",this.restoreDialog.checkboxLabel="أفهم التحذير وأؤكد الاسترجاع",this.restoreDialog.open=!0},async handleRestore(){var l,e;try{await h.restoreExpense(this.restoreDialog.data.id),this.showAlert("success","تم استرجاع المصروف بنجاح"),this.fetchExpenses()}catch(i){this.showAlert("error",((e=(l=i==null?void 0:i.response)==null?void 0:l.data)==null?void 0:e.message)||"تعذر الاسترجاع")}finally{this.restoreDialog.open=!1}},async exportToExcel(){var l,e;this.exporting=!0;try{const i={studyYear:this.filters.studyYear||void 0,from:this.filters.from||void 0,to:this.filters.to||void 0};this.filters.deleted===!0&&(i.deleted=!0);const m=await h.exportExpenses(i),s=window.URL.createObjectURL(new Blob([m.data])),a=document.createElement("a");a.href=s,a.setAttribute("download",`expenses_${Date.now()}.xlsx`),document.body.appendChild(a),a.click(),a.remove(),this.showAlert("success","تم تصدير البيانات بنجاح")}catch(i){this.showAlert("error",((e=(l=i==null?void 0:i.response)==null?void 0:l.data)==null?void 0:e.message)||"تعذر تصدير البيانات")}finally{this.exporting=!1}}}},J={class:"text-h4 font-weight-bold"},q={class:"text-h4 font-weight-bold"},G={class:"text-h4 font-weight-bold"},H={class:"text-h4 font-weight-bold"},K={class:"text-body-2"},Q={class:"text-body-2"},X={class:"text-h6 font-weight-bold text-error"},Z={class:"text-body-1"},$={class:"text-body-1"},ee={class:"text-body-1"},te={class:"text-body-1"},le={class:"text-body-2"},se={class:"text-body-2"};function oe(l,e,i,m,s,a){const V=B,p=N,A=L,g=U,T=Y;return w(),z("div",null,[t(V,{items:s.breadcrumbItems},null,8,["items"]),t(f,{class:"my-4",elevation:"3",rounded:"lg"},{default:o(()=>[t(y,{class:"d-flex align-center py-4 px-6"},{default:o(()=>[t(v,{icon:"mdi-chart-box-outline",color:"primary",class:"me-2",size:"24"}),e[17]||(e[17]=n("h3",{class:"text-h5 font-weight-bold"},"ملخص المصاريف",-1))]),_:1}),t(c),t(k,null,{default:o(()=>[t(b,{class:"py-2"},{default:o(()=>[t(d,{cols:"12",md:"3"},{default:o(()=>[t(f,{variant:"tonal",color:"error"},{default:o(()=>[t(_,{class:"text-center"},{default:o(()=>[n("div",J,u(a.numberWithComma(s.summary.totalAmount)),1),e[18]||(e[18]=n("div",{class:"text-subtitle-1 mt-2"},"إجمالي المصاريف",-1))]),_:1})]),_:1})]),_:1}),t(d,{cols:"12",md:"3"},{default:o(()=>[t(f,{variant:"tonal",color:"info"},{default:o(()=>[t(_,{class:"text-center"},{default:o(()=>[n("div",q,u(a.numberWithComma(s.summary.count)),1),e[19]||(e[19]=n("div",{class:"text-subtitle-1 mt-2"},"عدد المصاريف",-1))]),_:1})]),_:1})]),_:1}),t(d,{cols:"12",md:"3"},{default:o(()=>[t(f,{variant:"tonal",color:"warning"},{default:o(()=>[t(_,{class:"text-center"},{default:o(()=>[n("div",G,u(a.numberWithComma(s.summary.averageAmount)),1),e[20]||(e[20]=n("div",{class:"text-subtitle-1 mt-2"},"متوسط المصروف",-1))]),_:1})]),_:1})]),_:1}),t(d,{cols:"12",md:"3"},{default:o(()=>[t(f,{variant:"tonal",color:"success"},{default:o(()=>[t(_,{class:"text-center"},{default:o(()=>[n("div",H,u(s.summary.studyYear||"الكل"),1),e[21]||(e[21]=n("div",{class:"text-subtitle-1 mt-2"},"السنة الدراسية",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(f,{class:"my-4 operations-card",elevation:"3",rounded:"lg"},{default:o(()=>[t(y,{class:"d-flex align-center py-4 px-6"},{default:o(()=>[t(v,{icon:"mdi-cog-outline",color:"primary",class:"me-2",size:"24"}),e[22]||(e[22]=n("h3",{class:"text-h5 font-weight-bold"},"العمليات",-1))]),_:1}),t(c),t(k,null,{default:o(()=>[t(b,{class:"align-center justify-start pa-2"},{default:o(()=>[t(D,{color:"primary",class:"ma-2","prepend-icon":"ri-add-line",rounded:"pill",elevation:"2",size:"default",onClick:a.openAdd},{default:o(()=>e[23]||(e[23]=[x(" إضافة مصروف ")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),t(f,{class:"my-4 filter-card",elevation:"3",rounded:"lg"},{default:o(()=>[t(y,{class:"d-flex align-center py-4 px-6"},{default:o(()=>[t(v,{icon:"ri-filter-3-line",color:"primary",class:"me-2",size:"24"}),e[25]||(e[25]=n("h3",{class:"text-h5 font-weight-bold"},"تصفية",-1)),t(E),t(D,{variant:"text",size:"small","prepend-icon":"ri-refresh-line",onClick:a.resetFilters},{default:o(()=>e[24]||(e[24]=[x(" إعادة تعيين ")])),_:1},8,["onClick"])]),_:1}),t(c),t(k,null,{default:o(()=>[t(b,{style:{"padding-block":"10px"}},{default:o(()=>[t(d,{cols:"12",md:"3"},{default:o(()=>[t(O,{modelValue:s.filters.studyYear,"onUpdate:modelValue":[e[0]||(e[0]=r=>s.filters.studyYear=r),a.applyFilters],items:s.studyYears,"item-title":"label","item-value":"value",label:"السنة الدراسية",variant:"outlined",loading:s.yearsLoading},null,8,["modelValue","onUpdate:modelValue","items","loading"])]),_:1}),t(d,{cols:"12",md:"3"},{default:o(()=>[t(p,{modelValue:s.filters.from,"onUpdate:modelValue":[e[1]||(e[1]=r=>s.filters.from=r),a.applyFilters],clearable:"",label:"من تاريخ",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(d,{cols:"12",md:"3"},{default:o(()=>[t(p,{modelValue:s.filters.to,"onUpdate:modelValue":[e[2]||(e[2]=r=>s.filters.to=r),a.applyFilters],clearable:"",label:"إلى تاريخ",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(d,{cols:"12",md:"3"},{default:o(()=>[t(O,{modelValue:s.filters.deleted,"onUpdate:modelValue":[e[3]||(e[3]=r=>s.filters.deleted=r),a.applyFilters],items:s.deletedItems,"item-title":"text","item-value":"value",label:"حالة الحذف",variant:"outlined"},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(f,{class:"my-4 data-table-card",elevation:"3",rounded:"lg"},{default:o(()=>[t(y,{class:"py-4 px-6"},{default:o(()=>[t(b,{class:"align-center"},{default:o(()=>[t(d,{cols:"auto"},{default:o(()=>[t(D,{color:"primary",onClick:e[4]||(e[4]=r=>a.reload()),icon:"ri-refresh-line",variant:"tonal",rounded:"circle",size:"small",class:"rotate-on-hover"})]),_:1}),t(d,null,{default:o(()=>e[26]||(e[26]=[n("h3",{class:"text-h5 font-weight-bold text-center"},"المصاريف",-1)])),_:1}),t(d,{cols:"auto"},{default:o(()=>[t(W,{color:"primary",variant:"elevated",class:"font-weight-medium"},{default:o(()=>[x(u(a.numberWithComma(s.total))+" عدد السجلات ",1)]),_:1})]),_:1})]),_:1})]),_:1}),t(c),t(k,null,{default:o(()=>[t(A,{headers:s.headers,items:s.items,actions:s.tableActions,loading:s.tableLoading,totalItems:s.total,tableOptions:s.tableOptions,onUpdateTableOptions:a.onUpdateTableOptions,onEditItem:a.openEdit,onDeleteItem:a.confirmDelete,onEnableItem:a.confirmRestore,onShowItem:a.viewExpenseDetails},null,8,["headers","items","actions","loading","totalItems","tableOptions","onUpdateTableOptions","onEditItem","onDeleteItem","onEnableItem","onShowItem"])]),_:1})]),_:1}),t(S,{modelValue:s.dialog.open,"onUpdate:modelValue":e[10]||(e[10]=r=>s.dialog.open=r),"max-width":"700px",persistent:""},{default:o(()=>[t(f,null,{default:o(()=>[t(y,{class:"py-4 px-6 d-flex align-center"},{default:o(()=>[t(v,{icon:s.dialog.mode==="add"?"ri-add-circle-line":"ri-pencil-line",class:"me-2"},null,8,["icon"]),n("span",null,u(s.dialog.mode==="add"?"إضافة مصروف":"تعديل مصروف"),1)]),_:1}),t(c),t(_,null,{default:o(()=>[t(b,null,{default:o(()=>[t(d,{cols:"12",md:"6"},{default:o(()=>[t(R,{"model-value":a.formatMoney(s.form.amount),"onUpdate:modelValue":e[5]||(e[5]=r=>a.onFormatMoney("amount",r)),label:"المبلغ *",variant:"outlined","error-messages":s.errors.amount},null,8,["model-value","error-messages"])]),_:1}),t(d,{cols:"12",md:"6"},{default:o(()=>[t(p,{modelValue:s.form.expense_date,"onUpdate:modelValue":e[6]||(e[6]=r=>s.form.expense_date=r),label:"تاريخ المصروف *",variant:"outlined","error-messages":s.errors.expense_date},null,8,["modelValue","error-messages"])]),_:1}),t(d,{cols:"12",md:"6"},{default:o(()=>[t(O,{modelValue:s.form.category,"onUpdate:modelValue":e[7]||(e[7]=r=>s.form.category=r),items:s.categoryItems,"item-title":"text","item-value":"value",label:"التصنيف",variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,{cols:"12",md:"6"},{default:o(()=>[t(O,{modelValue:s.form.paymentMethod,"onUpdate:modelValue":e[8]||(e[8]=r=>s.form.paymentMethod=r),items:s.paymentMethods,"item-title":"text","item-value":"value",label:"طريقة الدفع",variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,{cols:"12"},{default:o(()=>[t(P,{modelValue:s.form.note,"onUpdate:modelValue":e[9]||(e[9]=r=>s.form.note=r),label:"ملاحظة",variant:"outlined",rows:"3"},null,8,["modelValue"])]),_:1})]),_:1}),s.dialog.mode==="edit"?(w(),C(f,{key:0,variant:"tonal",class:"mt-4"},{default:o(()=>[t(y,{class:"text-subtitle-1"},{default:o(()=>[t(v,{icon:"ri-information-line",class:"me-2",size:"small"}),e[27]||(e[27]=x(" معلومات إضافية "))]),_:1}),t(c),t(_,null,{default:o(()=>[t(b,{dense:""},{default:o(()=>[t(d,{cols:"12",md:"6"},{default:o(()=>[e[28]||(e[28]=n("div",{class:"text-caption text-medium-emphasis"},"تاريخ الإنشاء",-1)),n("div",K,u(a.formatDateTime(s.form.created_at)),1)]),_:1}),t(d,{cols:"12",md:"6"},{default:o(()=>[e[29]||(e[29]=n("div",{class:"text-caption text-medium-emphasis"},"آخر تحديث",-1)),n("div",Q,u(a.formatDateTime(s.form.updated_at)),1)]),_:1})]),_:1})]),_:1})]),_:1})):I("",!0)]),_:1}),t(M,{class:"px-6 pb-4"},{default:o(()=>[t(E),t(D,{variant:"outlined",onClick:a.closeDialog},{default:o(()=>e[30]||(e[30]=[x("إلغاء")])),_:1},8,["onClick"]),t(D,{color:"primary",loading:s.saving,onClick:a.submitDialog},{default:o(()=>e[31]||(e[31]=[x("حفظ")])),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(S,{modelValue:s.viewDialog.open,"onUpdate:modelValue":e[12]||(e[12]=r=>s.viewDialog.open=r),"max-width":"600px"},{default:o(()=>[t(f,null,{default:o(()=>[t(y,{class:"py-4 px-6 d-flex align-center"},{default:o(()=>[t(v,{icon:"ri-eye-line",class:"me-2"}),e[32]||(e[32]=n("span",null,"تفاصيل المصروف",-1))]),_:1}),t(c),t(_,null,{default:o(()=>[t(b,null,{default:o(()=>[t(d,{cols:"12",md:"6"},{default:o(()=>[e[33]||(e[33]=n("div",{class:"text-caption text-medium-emphasis"},"المبلغ",-1)),n("div",X,u(a.formatMoney(s.viewDialog.data.amount)),1)]),_:1}),t(d,{cols:"12",md:"6"},{default:o(()=>[e[34]||(e[34]=n("div",{class:"text-caption text-medium-emphasis"},"تاريخ المصروف",-1)),n("div",Z,u(a.formatDate(s.viewDialog.data.expense_date)),1)]),_:1}),t(d,{cols:"12",md:"6"},{default:o(()=>[e[35]||(e[35]=n("div",{class:"text-caption text-medium-emphasis"},"التصنيف",-1)),n("div",$,u(a.getCategoryLabel(s.viewDialog.data.category)),1)]),_:1}),t(d,{cols:"12",md:"6"},{default:o(()=>[e[36]||(e[36]=n("div",{class:"text-caption text-medium-emphasis"},"طريقة الدفع",-1)),n("div",ee,u(a.getPaymentMethodLabel(s.viewDialog.data.paymentMethod)),1)]),_:1}),t(d,{cols:"12"},{default:o(()=>[e[37]||(e[37]=n("div",{class:"text-caption text-medium-emphasis"},"ملاحظة",-1)),n("div",te,u(s.viewDialog.data.note||"لا توجد ملاحظات"),1)]),_:1}),t(d,{cols:"12"},{default:o(()=>[t(c,{class:"my-2"})]),_:1}),t(d,{cols:"12",md:"6"},{default:o(()=>[e[38]||(e[38]=n("div",{class:"text-caption text-medium-emphasis"},"تاريخ الإنشاء",-1)),n("div",le,u(a.formatDateTime(s.viewDialog.data.created_at)),1)]),_:1}),t(d,{cols:"12",md:"6"},{default:o(()=>[e[39]||(e[39]=n("div",{class:"text-caption text-medium-emphasis"},"آخر تحديث",-1)),n("div",se,u(a.formatDateTime(s.viewDialog.data.updated_at)),1)]),_:1})]),_:1})]),_:1}),t(M,{class:"px-6 pb-4"},{default:o(()=>[t(E),t(D,{variant:"outlined",onClick:e[11]||(e[11]=r=>s.viewDialog.open=!1)},{default:o(()=>e[40]||(e[40]=[x("إغلاق")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s.deleteDialog.open?(w(),C(g,{key:0,modelValue:s.deleteDialog.open,"onUpdate:modelValue":e[13]||(e[13]=r=>s.deleteDialog.open=r),messages:s.deleteDialog.messages,title:s.deleteDialog.title,confirmButtonText:s.deleteDialog.confirmButtonText,onConfirm:a.handleDelete},null,8,["modelValue","messages","title","confirmButtonText","onConfirm"])):I("",!0),s.restoreDialog.open?(w(),C(g,{key:1,modelValue:s.restoreDialog.open,"onUpdate:modelValue":e[14]||(e[14]=r=>s.restoreDialog.open=r),messages:s.restoreDialog.messages,title:s.restoreDialog.title,confirmButtonText:s.restoreDialog.confirmButtonText,checkboxLabel:s.restoreDialog.checkboxLabel,onConfirm:a.handleRestore},null,8,["modelValue","messages","title","confirmButtonText","checkboxLabel","onConfirm"])):I("",!0),s.alert.open?(w(),C(T,{key:2,modelValue:s.alert.open,"onUpdate:modelValue":e[15]||(e[15]=r=>s.alert.open=r),type:s.alert.type,message:s.alert.message,closable:!0,"close-text":"موافق",onClose:e[16]||(e[16]=r=>s.alert.open=!1)},null,8,["modelValue","type","message"])):I("",!0)])}const Te=F(j,[["render",oe],["__scopeId","data-v-67a80735"]]);export{Te as default};
