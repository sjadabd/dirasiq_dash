import I from"./teacher_api-BOlvZjR_.js";import{r as h,m as bt,k as xt,c as z,b as s,e as a,o as f,d as e,f as _,p as u,s as n,t as i,n as L,v as q,b6 as F,F as E,at as N,i as ht,aZ as M,x as mt,W as _t}from"./index-29qi_UQ_.js";import{_ as yt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as wt}from"./VContainer-B_61HfoY.js";import{V as y,a as r}from"./VRow-CEbwTv1E.js";import{V as p}from"./VCard-CuxbDPG0.js";import{V as S}from"./VCardText-BeUkytjM.js";import{V as kt}from"./VAvatar-DvEORS4j.js";import{V as St}from"./VImg-C7IBKxMt.js";import{V as $}from"./VChip-DINik-E3.js";import{V as zt}from"./VDivider-CFfaHbXO.js";import{V as Dt}from"./VSnackbar-Bot1fj4D.js";import"./axios-BG8wWk5D.js";const At={class:"teacher-dashboard"},Nt={class:"d-flex align-center gap-4 flex-wrap"},Vt={class:"welcome-text"},jt={class:"text-h3 text-white mb-2 font-weight-bold"},Tt={class:"text-h6 mb-2 text-white",style:{opacity:"0.95"}},It=["src"],Bt={class:"text-h4 mb-6 font-weight-bold d-flex align-center gap-2"},Pt={class:"d-flex justify-center align-center",style:{"min-block-size":"200px"}},Lt={class:"text-center"},qt={class:"d-flex justify-space-between align-start mb-4"},Ft={class:"text-h3 font-weight-bold"},Et={class:"stat-icon stat-icon-primary"},Qt={class:"d-flex justify-space-between align-start mb-4"},Ut={class:"text-h3 font-weight-bold"},Mt={class:"stat-icon stat-icon-success"},$t={class:"d-flex justify-space-between align-start mb-4"},Ct={class:"text-h3 font-weight-bold"},Ot={class:"stat-icon stat-icon-info"},Rt={class:"d-flex justify-space-between align-start mb-4"},Jt={class:"text-h3 font-weight-bold"},Wt={class:"stat-icon stat-icon-warning"},Yt={class:"text-h4 mb-6 font-weight-bold d-flex align-center gap-2"},Zt={class:"d-flex align-center justify-space-between mb-4"},Gt={class:"d-flex justify-center align-center mb-6"},Ht={class:"position-relative"},Kt={class:"text-center"},Xt={class:"text-h3 font-weight-bold"},te={class:"text-caption text-medium-emphasis"},ee={class:"text-h6 font-weight-bold"},se={class:"text-caption font-weight-bold"},ae={key:1,class:"d-flex justify-center py-8"},le={class:"d-flex align-center gap-2"},oe={class:"text-h6 font-weight-bold flex-grow-1"},ne={class:"text-center"},ie={class:"text-h4 font-weight-bold text-primary"},de={class:"text-center"},re={class:"text-h4 font-weight-bold text-success"},ce={class:"text-center"},ue={class:"text-h4 font-weight-bold text-warning"},me={class:"text-center"},fe={class:"text-h4 font-weight-bold text-info"},ve={key:1,class:"bonuses-list"},pe={class:"d-flex justify-space-between align-center"},ge={class:"font-weight-bold"},be={class:"text-caption"},xe={class:"text-h4 mb-6 font-weight-bold d-flex align-center gap-2"},he={class:"d-flex align-center gap-3 mb-4"},_e={class:"financial-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},ye={class:"mb-4"},we={class:"d-flex justify-space-between align-center mb-2"},ke={class:"text-h6 font-weight-bold text-success"},Se={class:"d-flex justify-space-between align-center pa-3 rounded",style:{"background-color":"rgba(var(--v-theme-primary), 0.1)"}},ze={class:"text-h6 font-weight-bold"},De={class:"d-flex justify-space-between align-center pa-3 rounded",style:{"background-color":"rgba(var(--v-theme-success), 0.1)"}},Ae={class:"text-h6 font-weight-bold text-success"},Ne={class:"d-flex justify-space-between align-center pa-3 rounded",style:{"background-color":"rgba(var(--v-theme-warning), 0.1)"}},Ve={class:"text-h6 font-weight-bold text-warning"},je={class:"d-flex align-center gap-3 mb-4"},Te={class:"financial-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}},Ie={class:"mb-4"},Be={class:"d-flex justify-space-between align-center mb-2"},Pe={class:"text-h6 font-weight-bold text-success"},Le={class:"d-flex justify-space-between align-center pa-3 rounded",style:{"background-color":"rgba(var(--v-theme-primary), 0.1)"}},qe={class:"text-h6 font-weight-bold"},Fe={class:"d-flex justify-space-between align-center pa-3 rounded",style:{"background-color":"rgba(var(--v-theme-success), 0.1)"}},Ee={class:"text-h6 font-weight-bold text-success"},Qe={class:"d-flex justify-space-between align-center pa-3 rounded",style:{"background-color":"rgba(var(--v-theme-warning), 0.1)"}},Ue={class:"text-h6 font-weight-bold text-warning"},Me={class:"text-h4 mb-6 font-weight-bold d-flex align-center gap-2"},$e={class:"d-flex justify-center align-center",style:{"min-block-size":"200px"}},Ce={class:"text-center"},Oe={class:"d-flex justify-space-between align-center mb-3"},Re={class:"text-h6 font-weight-bold mb-2"},Je={class:"text-body-2 text-medium-emphasis mb-3"},We={class:"d-flex align-center gap-2 text-body-2"},Ye={class:"d-flex align-center gap-2"},Ze={__name:"dashboard",setup(Ge){const ft=xt(),w=h(null),C=h(!0),O=h(!0),m=h({totalStudents:0,totalCourses:0,activeStudents:0,activeCourses:0,sessionsToday:0,totalDeposit:0,receivedDeposit:0,remainingDeposit:0,studentTotalDue:0,studentAmountPaid:0,studentAmountRemaining:0}),b=h({currentStudents:0,maxStudents:0,remaining:0,canAdd:!1}),V=h(!1),B=h(""),D=h({show:!1,text:"",color:"success"}),Q=h(!1),P=h(""),k=h({referralCode:"",referralLink:"",referrals:{pending:0,completed:0,rejected:0,total:0},bonuses:{totalBonusSeats:0,activeBonuses:[]}}),U=h([]),vt=g=>{switch((g||"").toLowerCase()){case"confirmed":return"Ù…Ø¤ÙƒØ¯Ø©";case"pending":return"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±";case"cancelled":return"Ù…Ù„ØºØ§Ø©";case"rejected":return"Ù…Ø±ÙÙˆØ¶Ø©";default:return g||""}},A=g=>{const t=Number(g??0);try{return new Intl.NumberFormat("en-IQ").format(t)+" Ø¯.Ø¹"}catch{return(t||0).toLocaleString("en-IQ")+" Ø¯.Ø¹"}},R=async g=>{var t;try{if((t=navigator==null?void 0:navigator.clipboard)!=null&&t.writeText)await navigator.clipboard.writeText(String(g||""));else{const o=document.createElement("input");o.value=String(g||""),document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)}D.value={show:!0,text:"ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø¨Ù†Ø¬Ø§Ø­",color:"success"}}catch(o){console.warn("Failed to copy text:",o),D.value={show:!0,text:"ØªØ¹Ø°Ø± Ù†Ø³Ø® Ø§Ù„Ù†ØµØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",color:"error"}}};bt(async()=>{var t,o,x,v,j,T,Y,Z,G,H,K,X,tt,et,st,at,lt,ot,nt,it,dt,rt,ct,ut;const g=localStorage.getItem("user");if(g)w.value=JSON.parse(g);else{ft.push("/login");return}try{const l=await I.getDashboard(),d=((t=l==null?void 0:l.data)==null?void 0:t.data)??(l==null?void 0:l.data)??{};m.value={totalStudents:Number(d.totalStudents??0),totalCourses:Number(d.totalCourses??0),activeStudents:Number(d.activeStudents??0),activeCourses:Number(d.activeCourses??0),sessionsToday:Number(d.sessionsToday??0),totalDeposit:Number(d.totalDeposit??((o=d==null?void 0:d.depositInvoices)==null?void 0:o.totalAmount)??0),receivedDeposit:Number(d.receivedDeposit??((x=d==null?void 0:d.depositInvoices)==null?void 0:x.receivedAmount)??0),remainingDeposit:Number(d.remainingDeposit??((v=d==null?void 0:d.depositInvoices)==null?void 0:v.remainingAmount)??0),studentTotalDue:Number(((j=d==null?void 0:d.studentInvoices)==null?void 0:j.totalDue)??0),studentAmountPaid:Number(((T=d==null?void 0:d.studentInvoices)==null?void 0:T.amountPaid)??0),studentAmountRemaining:Number(((Y=d==null?void 0:d.studentInvoices)==null?void 0:Y.amountRemaining)??0)}}catch(l){console.warn("Failed to load teacher dashboard:",l)}finally{C.value=!1}try{V.value=!0,B.value="";const l=await I.getRemainingStudents(),d=((Z=l==null?void 0:l.data)==null?void 0:Z.success)||(l==null?void 0:l.success),c=((G=l==null?void 0:l.data)==null?void 0:G.data)||(l==null?void 0:l.data)||l;if(!d||!c)throw new Error(((H=l==null?void 0:l.data)==null?void 0:H.message)||"ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø³Ø¹Ø©");b.value={currentStudents:Number(c.currentStudents)||0,maxStudents:Number(c.maxStudents)||0,remaining:Number(c.remaining)||0,canAdd:!!c.canAdd}}catch(l){console.warn("Failed to load subscription capacity:",l),B.value=((X=(K=l==null?void 0:l.response)==null?void 0:K.data)==null?void 0:X.message)||(l==null?void 0:l.message)||"ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø³Ø¹Ø©ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ù‹Ø§"}finally{V.value=!1}try{const l=await I.getUpcomingToday(),d=((tt=l==null?void 0:l.data)==null?void 0:tt.data)??[];U.value=Array.isArray(d)?d:[]}catch(l){console.warn("Failed to load upcoming today:",l)}finally{O.value=!1}try{Q.value=!0,P.value="";const l=await I.getReferralDashboard(),d=((et=l==null?void 0:l.data)==null?void 0:et.success)||(l==null?void 0:l.success),c=((st=l==null?void 0:l.data)==null?void 0:st.data)||(l==null?void 0:l.data)||l;if(!d||!c)throw new Error(((at=l==null?void 0:l.data)==null?void 0:at.message)||"ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¥Ø­Ø§Ù„Ø§Øª");k.value={referralCode:c.referralCode||"",referralLink:c.referralLink||"",referrals:{pending:Number(((lt=c==null?void 0:c.referrals)==null?void 0:lt.pending)??0),completed:Number(((ot=c==null?void 0:c.referrals)==null?void 0:ot.completed)??0),rejected:Number(((nt=c==null?void 0:c.referrals)==null?void 0:nt.rejected)??0),total:Number(((it=c==null?void 0:c.referrals)==null?void 0:it.total)??0)},bonuses:{totalBonusSeats:Number(((dt=c==null?void 0:c.bonuses)==null?void 0:dt.totalBonusSeats)??0),activeBonuses:Array.isArray((rt=c==null?void 0:c.bonuses)==null?void 0:rt.activeBonuses)?c.bonuses.activeBonuses:[]}}}catch(l){console.warn("Failed to load referral dashboard:",l),P.value=((ut=(ct=l==null?void 0:l.response)==null?void 0:ct.data)==null?void 0:ut.message)||(l==null?void 0:l.message)||"ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø¥Ø­Ø§Ù„Ø§Øª"}finally{Q.value=!1}});const pt=()=>{var v;const g=(v=w.value)==null?void 0:v.qr;if(!g)return;const t=`https://api.mulhimiq.com${g}`,o=window.open("","_blank");if(!o)return;const x=`<!DOCTYPE html>
  <html lang="en" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <title>Ø·Ø¨Ø§Ø¹Ø© Ø±Ù…Ø² Ø§Ù„Ø­Ø¶ÙˆØ±</title>
    <style>
      @page { size: A4 portrait; margin: 20mm; }
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Naskh Arabic", Arial, sans-serif; }
      .container { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: calc(100vh - 40mm); text-align: center; }
      h1 { margin: 0 0 12px; font-size: 24px; }
      p { margin: 0 0 20px; font-size: 18px; }
      img { width: 260px; height: 260px; object-fit: contain; }
      .note { margin-top: 16px; font-size: 14px; color: #555; }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ± Ø¹Ø¨Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h1>
      <p>ÙŠØ±Ø¬Ù‰ Ù…Ù† Ø§Ù„Ø·Ø§Ù„Ø¨ Ù…Ø³Ø­ Ø±Ù…Ø² QR Ø£Ø¯Ù†Ø§Ù‡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„ØªØ³Ø¬ÙŠÙ„ Ø­Ø¶ÙˆØ±Ùƒ.</p>
      <img src="${t}" alt="Ø±Ù…Ø² Ø­Ø¶ÙˆØ± Ø§Ù„Ø·Ù„Ø§Ø¨" />
      <div class="note">ÙÙŠ Ø­Ø§Ù„ ØªØ¹Ø°Ù‘Ø± Ø§Ù„Ù…Ø³Ø­ØŒ ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ø¹Ù„Ù….</div>
    </div>
    <script>
      window.onload = function() { setTimeout(function(){ window.print(); window.close(); }, 300); };
    <\/script>
  </body>
  </html>`;o.document.open(),o.document.write(x),o.document.close()},gt=()=>b.value.maxStudents===0?0:Math.round(b.value.currentStudents/b.value.maxStudents*100),J=()=>m.value.totalDeposit===0?0:Math.round(m.value.receivedDeposit/m.value.totalDeposit*100),W=()=>m.value.studentTotalDue===0?0:Math.round(m.value.studentAmountPaid/m.value.studentTotalDue*100);return(g,t)=>(f(),z("div",At,[s(wt,{fluid:"",class:"pa-4 pa-md-8"},{default:a(()=>[s(y,{class:"mb-8"},{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[s(p,{class:"welcome-card overflow-hidden",elevation:"8"},{default:a(()=>[t[9]||(t[9]=e("div",{class:"welcome-gradient"},null,-1)),s(S,{class:"pa-6 pa-md-8 position-relative"},{default:a(()=>[s(y,{align:"center"},{default:a(()=>[s(r,{cols:"12",md:"8"},{default:a(()=>{var o,x;return[e("div",Nt,[s(kt,{size:"100",class:"avatar-glow",color:"white",style:{border:"4px solid rgba(255, 255, 255, 30%)"}},{default:a(()=>{var v;return[(v=w.value)!=null&&v.profileImagePath?(f(),_(St,{key:0,src:`https://api.mulhimiq.com${w.value.profileImagePath}`,alt:"User Avatar",cover:""},null,8,["src"])):(f(),_(u,{key:1,size:"50",color:"primary"},{default:a(()=>t[4]||(t[4]=[n("mdi-account")])),_:1}))]}),_:1}),e("div",Vt,[e("h1",jt,"Ù…Ø±Ø­Ø¨Ø§Ù‹ "+i((o=w.value)==null?void 0:o.name)+"! ğŸ‘‹",1),e("p",Tt,i((x=w.value)==null?void 0:x.email),1),s($,{color:"white",variant:"flat",size:"small",class:"mt-1",style:{"background-color":"#f5f6f7"}},{default:a(()=>{var v;return[s(u,{start:"",size:"16"},{default:a(()=>t[5]||(t[5]=[n("mdi-calendar-check")])),_:1}),n(" Ø¹Ø¶Ùˆ Ù…Ù†Ø° "+i(new Date((v=w.value)==null?void 0:v.createdAt).toLocaleDateString("en-IQ")),1)]}),_:1})])])]}),_:1}),s(r,{cols:"12",md:"4"},{default:a(()=>[s(p,{class:"qr-card text-center pa-4",elevation:"4"},{default:a(()=>{var o,x;return[t[8]||(t[8]=e("div",{class:"text-caption mb-2 font-weight-bold"},"Ø±Ù…Ø² Ø§Ù„Ø­Ø¶ÙˆØ± Ù„Ù„Ø·Ù„Ø§Ø¨",-1)),(o=w.value)!=null&&o.qr?(f(),z("img",{key:0,class:"qr-image mx-auto",src:`https://api.mulhimiq.com${w.value.qr}`,alt:"Ø±Ù…Ø² Ø­Ø¶ÙˆØ± Ø§Ù„Ø·Ù„Ø§Ø¨"},null,8,It)):L("",!0),(x=w.value)!=null&&x.qr?(f(),_(q,{key:1,block:"",size:"small",variant:"tonal",color:"primary",class:"mt-3",onClick:pt},{default:a(()=>[s(u,{start:"",size:"18"},{default:a(()=>t[6]||(t[6]=[n("mdi-printer")])),_:1}),t[7]||(t[7]=n(" Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø±Ù…Ø² "))]),_:1})):L("",!0)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(y,{class:"mb-8"},{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[e("h2",Bt,[s(u,{color:"primary",size:"32"},{default:a(()=>t[10]||(t[10]=[n("mdi-chart-box")])),_:1}),t[11]||(t[11]=n(" Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª "))])]),_:1}),C.value?(f(),_(r,{key:0,cols:"12"},{default:a(()=>[e("div",Pt,[e("div",Lt,[s(F,{indeterminate:"",color:"primary",size:"64",width:"6"}),t[12]||(t[12]=e("p",{class:"mt-4 text-medium-emphasis"},"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...",-1))])])]),_:1})):(f(),z(E,{key:1},[s(r,{cols:"12",sm:"6",lg:"3"},{default:a(()=>[s(p,{class:"stat-card stat-card-primary h-100",elevation:"3"},{default:a(()=>[s(S,{class:"pa-6"},{default:a(()=>[e("div",qt,[e("div",null,[t[13]||(t[13]=e("p",{class:"text-caption text-medium-emphasis mb-1"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø§Ø¨",-1)),e("h3",Ft,i(m.value.totalStudents),1)]),e("div",Et,[s(u,{size:"32",color:"white"},{default:a(()=>t[14]||(t[14]=[n("mdi-account-group")])),_:1})])]),s(N,{"model-value":100,color:"primary",height:"6",rounded:""})]),_:1})]),_:1})]),_:1}),s(r,{cols:"12",sm:"6",lg:"3"},{default:a(()=>[s(p,{class:"stat-card stat-card-success h-100",elevation:"3"},{default:a(()=>[s(S,{class:"pa-6"},{default:a(()=>[e("div",Qt,[e("div",null,[t[15]||(t[15]=e("p",{class:"text-caption text-medium-emphasis mb-1"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯ÙˆØ±Ø§Øª",-1)),e("h3",Ut,i(m.value.totalCourses),1)]),e("div",Mt,[s(u,{size:"32",color:"white"},{default:a(()=>t[16]||(t[16]=[n("mdi-book-open-variant")])),_:1})])]),s(N,{"model-value":100,color:"success",height:"6",rounded:""})]),_:1})]),_:1})]),_:1}),s(r,{cols:"12",sm:"6",lg:"3"},{default:a(()=>[s(p,{class:"stat-card stat-card-info h-100",elevation:"3"},{default:a(()=>[s(S,{class:"pa-6"},{default:a(()=>[e("div",$t,[e("div",null,[t[17]||(t[17]=e("p",{class:"text-caption text-medium-emphasis mb-1"},"Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù†Ø´Ø·ÙˆÙ†",-1)),e("h3",Ct,i(m.value.activeStudents),1)]),e("div",Ot,[s(u,{size:"32",color:"white"},{default:a(()=>t[18]||(t[18]=[n("mdi-account-check")])),_:1})])]),s(N,{"model-value":m.value.totalStudents>0?m.value.activeStudents/m.value.totalStudents*100:0,color:"info",height:"6",rounded:""},null,8,["model-value"])]),_:1})]),_:1})]),_:1}),s(r,{cols:"12",sm:"6",lg:"3"},{default:a(()=>[s(p,{class:"stat-card stat-card-warning h-100",elevation:"3"},{default:a(()=>[s(S,{class:"pa-6"},{default:a(()=>[e("div",Rt,[e("div",null,[t[19]||(t[19]=e("p",{class:"text-caption text-medium-emphasis mb-1"},"Ø­ØµØµ Ø§Ù„ÙŠÙˆÙ…",-1)),e("h3",Jt,i(m.value.sessionsToday),1)]),e("div",Wt,[s(u,{size:"32",color:"white"},{default:a(()=>t[20]||(t[20]=[n("mdi-calendar-today")])),_:1})])]),s(N,{"model-value":100,color:"warning",height:"6",rounded:""})]),_:1})]),_:1})]),_:1})],64))]),_:1}),s(y,{class:"mb-8"},{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[e("h2",Yt,[s(u,{color:"primary",size:"32"},{default:a(()=>t[21]||(t[21]=[n("mdi-account-multiple")])),_:1}),t[22]||(t[22]=n(" Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø¹Ø© ÙˆØ§Ù„Ø¥Ø­Ø§Ù„Ø§Øª "))])]),_:1}),s(r,{cols:"12",lg:"6"},{default:a(()=>[s(p,{class:"capacity-card h-100",elevation:"4"},{default:a(()=>[s(S,{class:"pa-6"},{default:a(()=>[e("div",Zt,[t[24]||(t[24]=e("div",null,[e("h3",{class:"text-h5 font-weight-bold mb-1"},"Ø³Ø¹Ø© Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø·Ù„Ø§Ø¨"),e("p",{class:"text-body-2 text-medium-emphasis"},"Ù…ØªØ§Ø¨Ø¹Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡ ÙÙŠ Ø¨Ø§Ù‚ØªÙƒ")],-1)),s(q,{icon:"",size:"small",variant:"text",loading:V.value,onClick:t[0]||(t[0]=()=>{V.value=!0,ht(I).getRemainingStudents().then(o=>{var j,T;const x=((j=o==null?void 0:o.data)==null?void 0:j.success)||(o==null?void 0:o.success),v=((T=o==null?void 0:o.data)==null?void 0:T.data)||(o==null?void 0:o.data)||o;x&&v&&(b.value={currentStudents:Number(v.currentStudents)||0,maxStudents:Number(v.maxStudents)||0,remaining:Number(v.remaining)||0,canAdd:!!v.canAdd})}).catch(o=>{console.warn("Failed to refresh subscription capacity:",o)}).finally(()=>{V.value=!1})})},{default:a(()=>[s(u,null,{default:a(()=>t[23]||(t[23]=[n("mdi-refresh")])),_:1})]),_:1},8,["loading"])]),B.value?(f(),_(M,{key:0,type:"error",variant:"tonal",class:"mb-4",density:"comfortable"},{default:a(()=>[n(i(B.value),1)]),_:1})):L("",!0),e("div",Gt,[e("div",Ht,[s(F,{"model-value":gt(),size:180,width:12,color:b.value.canAdd?"success":"error",class:"capacity-progress"},{default:a(()=>[e("div",Kt,[e("div",Xt,i(b.value.currentStudents),1),e("div",te,"Ù…Ù† "+i(b.value.maxStudents),1)])]),_:1},8,["model-value","color"])])]),s(y,null,{default:a(()=>[s(r,{cols:"6"},{default:a(()=>[s(p,{color:"success",variant:"tonal",class:"pa-4 text-center"},{default:a(()=>[s(u,{size:"24",color:"success",class:"mb-2"},{default:a(()=>t[25]||(t[25]=[n("mdi-check-circle")])),_:1}),e("div",ee,i(b.value.remaining),1),t[26]||(t[26]=e("div",{class:"text-caption"},"Ù…Ù‚Ø¹Ø¯ Ù…ØªØ¨Ù‚ÙŠ",-1))]),_:1})]),_:1}),s(r,{cols:"6"},{default:a(()=>[s(p,{color:b.value.canAdd?"success":"error",variant:"tonal",class:"pa-4 text-center"},{default:a(()=>[s(u,{size:"24",color:b.value.canAdd?"success":"error",class:"mb-2"},{default:a(()=>[n(i(b.value.canAdd?"mdi-account-plus":"mdi-account-off"),1)]),_:1},8,["color"]),e("div",se,i(b.value.canAdd?"ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø·Ù„Ø§Ø¨":"Ø§Ù„Ø³Ø¹Ø© Ù…ÙƒØªÙ…Ù„Ø©"),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(r,{cols:"12",lg:"6"},{default:a(()=>[s(p,{class:"referral-card h-100",elevation:"4"},{default:a(()=>[s(S,{class:"pa-6"},{default:a(()=>[t[38]||(t[38]=e("div",{class:"d-flex align-center justify-space-between mb-4"},[e("div",null,[e("h3",{class:"text-h5 font-weight-bold mb-1"},"Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¥Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†"),e("p",{class:"text-body-2 text-medium-emphasis"},"Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ù‚Ø§Ø¹Ø¯ Ø¥Ø¶Ø§ÙÙŠØ© Ø¹Ù†Ø¯ Ø¯Ø¹ÙˆØ© Ù…Ø¹Ù„Ù…ÙŠÙ† Ø¬Ø¯Ø¯")])],-1)),P.value?(f(),_(M,{key:0,type:"error",variant:"tonal",class:"mb-4",density:"comfortable"},{default:a(()=>[n(i(P.value),1)]),_:1})):L("",!0),Q.value?(f(),z("div",ae,[s(F,{indeterminate:"",color:"primary",size:"48"})])):(f(),z(E,{key:2},[s(y,{class:"mb-4"},{default:a(()=>[s(r,{cols:"12",md:"6"},{default:a(()=>[s(p,{color:"primary",variant:"tonal",class:"pa-4"},{default:a(()=>[t[28]||(t[28]=e("div",{class:"text-caption mb-2"},"ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø¹ÙˆØ©",-1)),e("div",le,[e("code",oe,i(k.value.referralCode),1),s(q,{icon:"",size:"small",variant:"text",onClick:t[1]||(t[1]=()=>R(k.value.referralCode))},{default:a(()=>[s(u,null,{default:a(()=>t[27]||(t[27]=[n("mdi-content-copy")])),_:1})]),_:1})])]),_:1})]),_:1}),s(r,{cols:"12",md:"6"},{default:a(()=>[s(p,{color:"secondary",variant:"tonal",class:"pa-4"},{default:a(()=>[t[31]||(t[31]=e("div",{class:"text-caption mb-2"},"Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ©",-1)),s(q,{block:"",size:"small",variant:"flat",color:"secondary",onClick:t[2]||(t[2]=()=>R("https://mulhimiq.com"+k.value.referralLink))},{default:a(()=>[s(u,{start:"",size:"18"},{default:a(()=>t[29]||(t[29]=[n("mdi-link-variant")])),_:1}),t[30]||(t[30]=n(" Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· "))]),_:1})]),_:1})]),_:1})]),_:1}),s(y,{class:"mb-4"},{default:a(()=>[s(r,{cols:"6",sm:"3"},{default:a(()=>[e("div",ne,[e("div",ie,i(k.value.referrals.total),1),t[32]||(t[32]=e("div",{class:"text-caption text-medium-emphasis"},"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ",-1))])]),_:1}),s(r,{cols:"6",sm:"3"},{default:a(()=>[e("div",de,[e("div",re,i(k.value.referrals.completed),1),t[33]||(t[33]=e("div",{class:"text-caption text-medium-emphasis"},"Ù…ÙƒØªÙ…Ù„Ø©",-1))])]),_:1}),s(r,{cols:"6",sm:"3"},{default:a(()=>[e("div",ce,[e("div",ue,i(k.value.referrals.pending),1),t[34]||(t[34]=e("div",{class:"text-caption text-medium-emphasis"},"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",-1))])]),_:1}),s(r,{cols:"6",sm:"3"},{default:a(()=>[e("div",me,[e("div",fe,i(k.value.bonuses.totalBonusSeats),1),t[35]||(t[35]=e("div",{class:"text-caption text-medium-emphasis"},"Ù…Ù‚Ø§Ø¹Ø¯ Ø¥Ø¶Ø§ÙÙŠØ©",-1))])]),_:1})]),_:1}),s(zt,{class:"my-4"}),t[37]||(t[37]=e("div",{class:"text-subtitle-2 mb-3 font-weight-bold"},"Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„ÙØ¹Ù‘Ø§Ù„Ø©",-1)),k.value.bonuses.activeBonuses.length?(f(),z("div",ve,[(f(!0),z(E,null,mt(k.value.bonuses.activeBonuses,o=>(f(),_(p,{key:o.id,class:"pa-3 mb-2",variant:"tonal",color:"success"},{default:a(()=>[e("div",pe,[e("div",null,[e("div",ge,i(o.bonusType==="referral_referrer"?"Ù…Ù‚Ø§Ø¹Ø¯ Ø¥Ø­Ø§Ù„Ø©":"Ù…ÙƒØ§ÙØ£Ø©"),1),e("div",be,i(o.expiresAt?new Date(o.expiresAt).toLocaleDateString("en-IQ"):"Ø¨Ø¯ÙˆÙ† Ø§Ù†ØªÙ‡Ø§Ø¡"),1)]),s($,{color:"success",size:"small"},{default:a(()=>[n(i(o.bonusValue)+" Ù…Ù‚Ø¹Ø¯",1)]),_:2},1024)])]),_:2},1024))),128))])):(f(),_(M,{key:0,type:"info",variant:"tonal",density:"comfortable"},{default:a(()=>t[36]||(t[36]=[n(" Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙƒØ§ÙØ¢Øª ÙØ¹Ù‘Ø§Ù„Ø© Ø­Ø§Ù„ÙŠØ§Ù‹ ")])),_:1}))],64))]),_:1})]),_:1})]),_:1})]),_:1}),s(y,{class:"mb-8"},{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[e("h2",xe,[s(u,{color:"primary",size:"32"},{default:a(()=>t[39]||(t[39]=[n("mdi-cash-multiple")])),_:1}),t[40]||(t[40]=n(" Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª "))])]),_:1}),s(r,{cols:"12",lg:"6"},{default:a(()=>[s(p,{class:"financial-card h-100",elevation:"4"},{default:a(()=>[s(S,{class:"pa-6"},{default:a(()=>[e("div",he,[e("div",_e,[s(u,{size:"32",color:"white"},{default:a(()=>t[41]||(t[41]=[n("mdi-cash-register")])),_:1})]),t[42]||(t[42]=e("div",null,[e("h3",{class:"text-h6 font-weight-bold"},"ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¹Ø±Ø¨ÙˆÙ†"),e("p",{class:"text-caption text-medium-emphasis mb-0"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙˆÙ…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙˆÙ†")],-1))]),e("div",ye,[e("div",we,[t[43]||(t[43]=e("span",{class:"text-body-2"},"Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ­ØµÙŠÙ„",-1)),e("span",ke,i(J())+"%",1)]),s(N,{"model-value":J(),color:"success",height:"8",rounded:""},null,8,["model-value"])]),s(y,null,{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[e("div",Se,[e("div",null,[s(u,{size:"20",color:"primary",class:"me-2"},{default:a(()=>t[44]||(t[44]=[n("mdi-cash")])),_:1}),t[45]||(t[45]=e("span",{class:"text-body-2"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ø±Ø¨ÙˆÙ†",-1))]),e("span",ze,i(A(m.value.totalDeposit)),1)])]),_:1}),s(r,{cols:"12"},{default:a(()=>[e("div",De,[e("div",null,[s(u,{size:"20",color:"success",class:"me-2"},{default:a(()=>t[46]||(t[46]=[n("mdi-cash-check")])),_:1}),t[47]||(t[47]=e("span",{class:"text-body-2"},"Ø§Ù„Ù…Ø³ØªÙ„Ù…",-1))]),e("span",Ae,i(A(m.value.receivedDeposit)),1)])]),_:1}),s(r,{cols:"12"},{default:a(()=>[e("div",Ne,[e("div",null,[s(u,{size:"20",color:"warning",class:"me-2"},{default:a(()=>t[48]||(t[48]=[n("mdi-cash-minus")])),_:1}),t[49]||(t[49]=e("span",{class:"text-body-2"},"Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ",-1))]),e("span",Ve,i(A(m.value.remainingDeposit)),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(r,{cols:"12",lg:"6"},{default:a(()=>[s(p,{class:"financial-card h-100",elevation:"4"},{default:a(()=>[s(S,{class:"pa-6"},{default:a(()=>[e("div",je,[e("div",Te,[s(u,{size:"32",color:"white"},{default:a(()=>t[50]||(t[50]=[n("mdi-receipt-text")])),_:1})]),t[51]||(t[51]=e("div",null,[e("h3",{class:"text-h6 font-weight-bold"},"ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø·Ù„Ø§Ø¨"),e("p",{class:"text-caption text-medium-emphasis mb-0"},"Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª")],-1))]),e("div",Ie,[e("div",Be,[t[52]||(t[52]=e("span",{class:"text-body-2"},"Ù†Ø³Ø¨Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯",-1)),e("span",Pe,i(W())+"%",1)]),s(N,{"model-value":W(),color:"success",height:"8",rounded:""},null,8,["model-value"])]),s(y,null,{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[e("div",Le,[e("div",null,[s(u,{size:"20",color:"primary",class:"me-2"},{default:a(()=>t[53]||(t[53]=[n("mdi-receipt")])),_:1}),t[54]||(t[54]=e("span",{class:"text-body-2"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ­Ù‚",-1))]),e("span",qe,i(A(m.value.studentTotalDue)),1)])]),_:1}),s(r,{cols:"12"},{default:a(()=>[e("div",Fe,[e("div",null,[s(u,{size:"20",color:"success",class:"me-2"},{default:a(()=>t[55]||(t[55]=[n("mdi-cash-check")])),_:1}),t[56]||(t[56]=e("span",{class:"text-body-2"},"Ø§Ù„Ù…Ø¯ÙÙˆØ¹",-1))]),e("span",Ee,i(A(m.value.studentAmountPaid)),1)])]),_:1}),s(r,{cols:"12"},{default:a(()=>[e("div",Qe,[e("div",null,[s(u,{size:"20",color:"warning",class:"me-2"},{default:a(()=>t[57]||(t[57]=[n("mdi-cash-minus")])),_:1}),t[58]||(t[58]=e("span",{class:"text-body-2"},"Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ",-1))]),e("span",Ue,i(A(m.value.studentAmountRemaining)),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(y,{class:"mb-8"},{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[e("h2",Me,[s(u,{color:"primary",size:"32"},{default:a(()=>t[59]||(t[59]=[n("mdi-calendar-clock")])),_:1}),t[60]||(t[60]=n(" Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© Ø§Ù„ÙŠÙˆÙ… "))])]),_:1}),O.value?(f(),_(r,{key:0,cols:"12"},{default:a(()=>[e("div",$e,[e("div",Ce,[s(F,{indeterminate:"",color:"primary",size:"48"}),t[61]||(t[61]=e("p",{class:"mt-4 text-medium-emphasis"},"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯Ø±ÙˆØ³...",-1))])])]),_:1})):U.value.length?(f(!0),z(E,{key:2},mt(U.value,o=>(f(),_(r,{key:o.sessionId,cols:"12",sm:"6",lg:"4"},{default:a(()=>[s(p,{class:"session-card h-100",elevation:"3",hover:""},{default:a(()=>[e("div",{class:"session-card-accent",style:_t({background:o.state==="confirmed"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":o.state==="pending"?"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)":"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"})},null,4),s(S,{class:"pa-6"},{default:a(()=>[e("div",Oe,[s($,{color:o.state==="confirmed"?"success":o.state==="pending"?"warning":"default",size:"small",variant:"flat"},{default:a(()=>[s(u,{start:"",size:"16"},{default:a(()=>[n(i(o.state==="confirmed"?"mdi-check-circle":o.state==="pending"?"mdi-clock-outline":"mdi-close-circle"),1)]),_:2},1024),n(" "+i(vt(o.state)),1)]),_:2},1032,["color"])]),e("h4",Re,i(o.title),1),e("p",Je,i(o.courseName||"Ø¯ÙˆØ±Ø©"),1),e("div",We,[s(u,{size:"18",color:"primary"},{default:a(()=>t[65]||(t[65]=[n("mdi-clock-outline")])),_:1}),e("span",null,i(o.startTime)+" - "+i(o.endTime),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)):(f(),_(r,{key:1,cols:"12"},{default:a(()=>[s(p,{class:"pa-8 text-center",elevation:"2"},{default:a(()=>[s(u,{size:"80",color:"grey-lighten-1",class:"mb-4"},{default:a(()=>t[62]||(t[62]=[n("mdi-calendar-blank")])),_:1}),t[63]||(t[63]=e("h3",{class:"text-h5 mb-2"},"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³ Ù‚Ø§Ø¯Ù…Ø© Ø§Ù„ÙŠÙˆÙ…",-1)),t[64]||(t[64]=e("p",{class:"text-body-2 text-medium-emphasis"},"Ø§Ø³ØªÙ…ØªØ¹ Ø¨ÙŠÙˆÙ…Ùƒ! ğŸ‰",-1))]),_:1})]),_:1}))]),_:1}),s(Dt,{modelValue:D.value.show,"onUpdate:modelValue":t[3]||(t[3]=o=>D.value.show=o),color:D.value.color,location:"bottom",timeout:"3000",rounded:"pill"},{default:a(()=>[e("div",Ye,[s(u,null,{default:a(()=>[n(i(D.value.color==="success"?"mdi-check-circle":"mdi-alert-circle"),1)]),_:1}),n(" "+i(D.value.text),1)])]),_:1},8,["modelValue","color"])]),_:1})]))}},cs=yt(Ze,[["__scopeId","data-v-9ce97174"]]);export{cs as default};
