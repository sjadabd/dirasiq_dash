import T from"./teacher_api-Bgok66l7.js";import{r as w,m as ht,k as _t,c as I,b as s,e as a,o as p,d as e,f as y,p as m,s as n,t as i,n as Q,v as R,b7 as U,F as $,at as P,i as wt,aZ as W,x as mt,W as yt}from"./index-CXn58W-A.js";import{_ as kt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as St}from"./VContainer-KOu0eCA-.js";import{V as k,a as r}from"./VRow-LCDPsJz5.js";import{V as h}from"./VCard-D4uEzfmu.js";import{V as A}from"./VCardText-BpiNX1gO.js";import{V as Nt}from"./VAvatar-RzyGemFQ.js";import{V as Dt}from"./VImg-Cara8jvF.js";import{V as Y}from"./VChip-3e4YXY2a.js";import{V as At}from"./VDivider-BMfDbzm1.js";import{V as zt}from"./VSnackbar-Dkiy1QcD.js";import"./axios-DwhOaX7i.js";const Vt={class:"teacher-dashboard"},It={class:"d-flex align-center gap-4 flex-wrap"},jt={class:"welcome-text"},Tt={class:"text-h3 text-white mb-2 font-weight-bold"},Bt={class:"text-h6 mb-2 text-white",style:{opacity:"0.95"}},Pt=["src"],Lt={class:"text-h4 mb-6 font-weight-bold d-flex align-center gap-2"},qt={class:"d-flex justify-center align-center",style:{"min-block-size":"200px"}},Ft={class:"text-center"},Et={class:"d-flex justify-space-between align-start mb-4"},Mt={class:"text-h3 font-weight-bold"},Qt={class:"stat-icon stat-icon-primary"},Rt={class:"d-flex justify-space-between align-start mb-4"},Ut={class:"text-h3 font-weight-bold"},$t={class:"stat-icon stat-icon-success"},Ot={class:"d-flex justify-space-between align-start mb-4"},Jt={class:"text-h3 font-weight-bold"},Wt={class:"stat-icon stat-icon-info"},Yt={class:"d-flex justify-space-between align-start mb-4"},Zt={class:"text-h3 font-weight-bold"},Ct={class:"stat-icon stat-icon-warning"},Gt={class:"text-h4 mb-6 font-weight-bold d-flex align-center gap-2"},Ht={class:"d-flex align-center justify-space-between mb-4"},Kt={class:"d-flex justify-center align-center mb-6"},Xt={class:"position-relative"},te={class:"text-center"},ee={class:"text-h3 font-weight-bold"},se={class:"text-caption text-medium-emphasis"},ae={class:"text-h6 font-weight-bold"},oe={class:"text-caption font-weight-bold"},le={key:1,class:"d-flex justify-center py-8"},ne={class:"d-flex align-center gap-2"},ie={class:"text-h6 font-weight-bold flex-grow-1"},de={class:"text-center"},re={class:"text-h4 font-weight-bold text-primary"},ue={class:"text-center"},ce={class:"text-h4 font-weight-bold text-success"},me={class:"text-center"},fe={class:"text-h4 font-weight-bold text-warning"},ve={class:"text-center"},ge={class:"text-h4 font-weight-bold text-info"},be={key:1,class:"bonuses-list"},pe={class:"d-flex justify-space-between align-center"},xe={class:"font-weight-bold"},he={class:"text-caption"},_e={class:"text-h4 mb-6 font-weight-bold d-flex align-center gap-2"},we={class:"d-flex align-center gap-3 mb-4"},ye={class:"financial-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},ke={class:"mb-4"},Se={class:"d-flex justify-space-between align-center mb-2"},Ne={class:"text-h6 font-weight-bold text-success"},De={class:"d-flex justify-space-between align-center pa-3 rounded",style:{"background-color":"rgba(var(--v-theme-primary), 0.1)"}},Ae={class:"text-h6 font-weight-bold"},ze={class:"d-flex justify-space-between align-center pa-3 rounded",style:{"background-color":"rgba(var(--v-theme-success), 0.1)"}},Ve={class:"text-h6 font-weight-bold text-success"},Ie={class:"d-flex justify-space-between align-center pa-3 rounded",style:{"background-color":"rgba(var(--v-theme-warning), 0.1)"}},je={class:"text-h6 font-weight-bold text-warning"},Te={class:"d-flex align-center gap-3 mb-4"},Be={class:"financial-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}},Pe={class:"mb-4"},Le={class:"d-flex justify-space-between align-center mb-2"},qe={class:"text-h6 font-weight-bold text-success"},Fe={class:"d-flex justify-space-between align-center pa-3 rounded",style:{"background-color":"rgba(var(--v-theme-primary), 0.1)"}},Ee={class:"text-h6 font-weight-bold"},Me={class:"d-flex justify-space-between align-center pa-3 rounded",style:{"background-color":"rgba(var(--v-theme-success), 0.1)"}},Qe={class:"text-h6 font-weight-bold text-success"},Re={class:"d-flex justify-space-between align-center pa-3 rounded",style:{"background-color":"rgba(var(--v-theme-warning), 0.1)"}},Ue={class:"text-h6 font-weight-bold text-warning"},$e={class:"text-h4 mb-6 font-weight-bold d-flex align-center gap-2"},Oe={class:"d-flex justify-center align-center",style:{"min-block-size":"200px"}},Je={class:"text-center"},We={class:"d-flex justify-space-between align-center mb-3"},Ye={class:"text-h6 font-weight-bold mb-2"},Ze={class:"text-body-2 text-medium-emphasis mb-3"},Ce={class:"d-flex align-center gap-2 text-body-2"},Ge={class:"d-flex align-center gap-2"},He={__name:"dashboard",setup(Ke){const ft=_t(),S=w(null),Z=w(!0),C=w(!0),b=w({totalStudents:0,totalCourses:0,activeStudents:0,activeCourses:0,sessionsToday:0,totalDeposit:0,receivedDeposit:0,remainingDeposit:0,studentTotalDue:0,studentAmountPaid:0,studentAmountRemaining:0}),_=w({currentStudents:0,maxStudents:0,remaining:0,canAdd:!1}),L=w(!1),E=w(""),j=w({show:!1,text:"",color:"success"}),O=w(!1),M=w(""),N=w({referralCode:"",referralLink:"",referrals:{pending:0,completed:0,rejected:0,total:0},bonuses:{totalBonusSeats:0,activeBonuses:[]}}),J=w([]),vt=v=>{switch((v||"").toLowerCase()){case"confirmed":return"Ù…Ø¤ÙƒØ¯Ø©";case"pending":return"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±";case"cancelled":return"Ù…Ù„ØºØ§Ø©";case"rejected":return"Ù…Ø±ÙÙˆØ¶Ø©";default:return v||""}},B=v=>{const t=Number(v??0);try{return new Intl.NumberFormat("en-IQ").format(t)+" Ø¯.Ø¹"}catch{return(t||0).toLocaleString("en-IQ")+" Ø¯.Ø¹"}},G=async v=>{var t;try{if((t=navigator==null?void 0:navigator.clipboard)!=null&&t.writeText)await navigator.clipboard.writeText(String(v||""));else{const l=document.createElement("input");l.value=String(v||""),document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l)}j.value={show:!0,text:"ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø¨Ù†Ø¬Ø§Ø­",color:"success"}}catch(l){console.warn("Failed to copy text:",l),j.value={show:!0,text:"ØªØ¹Ø°Ø± Ù†Ø³Ø® Ø§Ù„Ù†ØµØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",color:"error"}}},gt=async()=>{var v,t,l,x,g,D,z,q,F;try{const f=await T.getDashboard(),u=((v=f==null?void 0:f.data)==null?void 0:v.data)??(f==null?void 0:f.data)??{};b.value={totalStudents:Number(u.totalStudents??0),totalCourses:Number(u.totalCourses??0),activeStudents:Number(u.activeStudents??0),activeCourses:Number(u.activeCourses??0),sessionsToday:Number(u.sessionsToday??0),totalDeposit:Number(u.totalDeposit??((t=u==null?void 0:u.depositInvoices)==null?void 0:t.totalAmount)??0),receivedDeposit:Number(u.receivedDeposit??((l=u==null?void 0:u.depositInvoices)==null?void 0:l.receivedAmount)??0),remainingDeposit:Number(u.remainingDeposit??((x=u==null?void 0:u.depositInvoices)==null?void 0:x.remainingAmount)??0),studentTotalDue:Number(((g=u==null?void 0:u.studentInvoices)==null?void 0:g.totalDue)??0),studentAmountPaid:Number(((D=u==null?void 0:u.studentInvoices)==null?void 0:D.amountPaid)??0),studentAmountRemaining:Number(((z=u==null?void 0:u.studentInvoices)==null?void 0:z.amountRemaining)??0)}}catch{}try{const f=await T.getRemainingStudents(),u=((q=f==null?void 0:f.data)==null?void 0:q.success)||(f==null?void 0:f.success),V=((F=f==null?void 0:f.data)==null?void 0:F.data)||(f==null?void 0:f.data)||f;u&&V&&(_.value={currentStudents:Number(V.currentStudents)||0,maxStudents:Number(V.maxStudents)||0,remaining:Number(V.remaining)||0,canAdd:!!V.canAdd})}catch{}},bt=()=>{let v=null;try{v=JSON.parse(localStorage.getItem("pending_wayl_action")||"null")}catch{v=null}if(!(v!=null&&v.createdAt))return;const t=Date.now()-Number(v.createdAt);if(Number.isNaN(t)||t>2*60*1e3)return;const l=4e3,x=45e3,g=Date.now(),D=setInterval(async()=>{await gt(),Date.now()-g>=x&&(clearInterval(D),localStorage.removeItem("pending_wayl_action"))},l)};ht(async()=>{var t,l,x,g,D,z,q,F,f,u,V,X,tt,et,st,at,ot,lt,nt,it,dt,rt,ut,ct;const v=localStorage.getItem("user");if(v)S.value=JSON.parse(v);else{ft.push("/login");return}try{const o=await T.getDashboard(),d=((t=o==null?void 0:o.data)==null?void 0:t.data)??(o==null?void 0:o.data)??{};b.value={totalStudents:Number(d.totalStudents??0),totalCourses:Number(d.totalCourses??0),activeStudents:Number(d.activeStudents??0),activeCourses:Number(d.activeCourses??0),sessionsToday:Number(d.sessionsToday??0),totalDeposit:Number(d.totalDeposit??((l=d==null?void 0:d.depositInvoices)==null?void 0:l.totalAmount)??0),receivedDeposit:Number(d.receivedDeposit??((x=d==null?void 0:d.depositInvoices)==null?void 0:x.receivedAmount)??0),remainingDeposit:Number(d.remainingDeposit??((g=d==null?void 0:d.depositInvoices)==null?void 0:g.remainingAmount)??0),studentTotalDue:Number(((D=d==null?void 0:d.studentInvoices)==null?void 0:D.totalDue)??0),studentAmountPaid:Number(((z=d==null?void 0:d.studentInvoices)==null?void 0:z.amountPaid)??0),studentAmountRemaining:Number(((q=d==null?void 0:d.studentInvoices)==null?void 0:q.amountRemaining)??0)}}catch(o){console.warn("Failed to load teacher dashboard:",o)}finally{Z.value=!1}try{L.value=!0,E.value="";const o=await T.getRemainingStudents(),d=((F=o==null?void 0:o.data)==null?void 0:F.success)||(o==null?void 0:o.success),c=((f=o==null?void 0:o.data)==null?void 0:f.data)||(o==null?void 0:o.data)||o;if(!d||!c)throw new Error(((u=o==null?void 0:o.data)==null?void 0:u.message)||"ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø³Ø¹Ø©");_.value={currentStudents:Number(c.currentStudents)||0,maxStudents:Number(c.maxStudents)||0,remaining:Number(c.remaining)||0,canAdd:!!c.canAdd}}catch(o){console.warn("Failed to load subscription capacity:",o),E.value=((X=(V=o==null?void 0:o.response)==null?void 0:V.data)==null?void 0:X.message)||(o==null?void 0:o.message)||"ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø³Ø¹Ø©ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ù‹Ø§"}finally{L.value=!1}try{const o=await T.getUpcomingToday(),d=((tt=o==null?void 0:o.data)==null?void 0:tt.data)??[];J.value=Array.isArray(d)?d:[]}catch(o){console.warn("Failed to load upcoming today:",o)}finally{C.value=!1}try{O.value=!0,M.value="";const o=await T.getReferralDashboard(),d=((et=o==null?void 0:o.data)==null?void 0:et.success)||(o==null?void 0:o.success),c=((st=o==null?void 0:o.data)==null?void 0:st.data)||(o==null?void 0:o.data)||o;if(!d||!c)throw new Error(((at=o==null?void 0:o.data)==null?void 0:at.message)||"ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¥Ø­Ø§Ù„Ø§Øª");N.value={referralCode:c.referralCode||"",referralLink:c.referralLink||"",referrals:{pending:Number(((ot=c==null?void 0:c.referrals)==null?void 0:ot.pending)??0),completed:Number(((lt=c==null?void 0:c.referrals)==null?void 0:lt.completed)??0),rejected:Number(((nt=c==null?void 0:c.referrals)==null?void 0:nt.rejected)??0),total:Number(((it=c==null?void 0:c.referrals)==null?void 0:it.total)??0)},bonuses:{totalBonusSeats:Number(((dt=c==null?void 0:c.bonuses)==null?void 0:dt.totalBonusSeats)??0),activeBonuses:Array.isArray((rt=c==null?void 0:c.bonuses)==null?void 0:rt.activeBonuses)?c.bonuses.activeBonuses:[]}}}catch(o){console.warn("Failed to load referral dashboard:",o),M.value=((ct=(ut=o==null?void 0:o.response)==null?void 0:ut.data)==null?void 0:ct.message)||(o==null?void 0:o.message)||"ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø¥Ø­Ø§Ù„Ø§Øª"}finally{O.value=!1}bt()});const pt=()=>{var g;const v=(g=S.value)==null?void 0:g.qr;if(!v)return;const t=`https://api.mulhimiq.com${v}`,l=window.open("","_blank");if(!l)return;const x=`<!DOCTYPE html>
  <html lang="en" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <title>Ø·Ø¨Ø§Ø¹Ø© Ø±Ù…Ø² Ø§Ù„Ø­Ø¶ÙˆØ±</title>
    <style>
      @page { size: A4 portrait; margin: 20mm; }
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Naskh Arabic", Arial, sans-serif; }
      .container { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: calc(100vh - 40mm); text-align: center; }
      h1 { margin: 0 0 12px; font-size: 24px; }
      p { margin: 0 0 20px; font-size: 18px; }
      img { width: 260px; height: 260px; object-fit: contain; }
      .note { margin-top: 16px; font-size: 14px; color: #555; }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ± Ø¹Ø¨Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h1>
      <p>ÙŠØ±Ø¬Ù‰ Ù…Ù† Ø§Ù„Ø·Ø§Ù„Ø¨ Ù…Ø³Ø­ Ø±Ù…Ø² QR Ø£Ø¯Ù†Ø§Ù‡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„ØªØ³Ø¬ÙŠÙ„ Ø­Ø¶ÙˆØ±Ùƒ.</p>
      <img src="${t}" alt="Ø±Ù…Ø² Ø­Ø¶ÙˆØ± Ø§Ù„Ø·Ù„Ø§Ø¨" />
      <div class="note">ÙÙŠ Ø­Ø§Ù„ ØªØ¹Ø°Ù‘Ø± Ø§Ù„Ù…Ø³Ø­ØŒ ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ø¹Ù„Ù….</div>
    </div>
    <script>
      window.onload = function() { setTimeout(function(){ window.print(); window.close(); }, 300); };
    <\/script>
  </body>
  </html>`;l.document.open(),l.document.write(x),l.document.close()},xt=()=>_.value.maxStudents===0?0:Math.round(_.value.currentStudents/_.value.maxStudents*100),H=()=>b.value.totalDeposit===0?0:Math.round(b.value.receivedDeposit/b.value.totalDeposit*100),K=()=>b.value.studentTotalDue===0?0:Math.round(b.value.studentAmountPaid/b.value.studentTotalDue*100);return(v,t)=>(p(),I("div",Vt,[s(St,{fluid:"",class:"pa-4 pa-md-8"},{default:a(()=>[s(k,{class:"mb-8"},{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[s(h,{class:"welcome-card overflow-hidden",elevation:"8"},{default:a(()=>[t[9]||(t[9]=e("div",{class:"welcome-gradient"},null,-1)),s(A,{class:"pa-6 pa-md-8 position-relative"},{default:a(()=>[s(k,{align:"center"},{default:a(()=>[s(r,{cols:"12",md:"8"},{default:a(()=>{var l,x;return[e("div",It,[s(Nt,{size:"100",class:"avatar-glow",color:"white",style:{border:"4px solid rgba(255, 255, 255, 30%)"}},{default:a(()=>{var g;return[(g=S.value)!=null&&g.profileImagePath?(p(),y(Dt,{key:0,src:`https://api.mulhimiq.com${S.value.profileImagePath}`,alt:"User Avatar",cover:""},null,8,["src"])):(p(),y(m,{key:1,size:"50",color:"primary"},{default:a(()=>t[4]||(t[4]=[n("mdi-account")])),_:1}))]}),_:1}),e("div",jt,[e("h1",Tt,"Ù…Ø±Ø­Ø¨Ø§Ù‹ "+i((l=S.value)==null?void 0:l.name)+"! ğŸ‘‹",1),e("p",Bt,i((x=S.value)==null?void 0:x.email),1),s(Y,{color:"white",variant:"flat",size:"small",class:"mt-1",style:{"background-color":"#f5f6f7"}},{default:a(()=>{var g;return[s(m,{start:"",size:"16"},{default:a(()=>t[5]||(t[5]=[n("mdi-calendar-check")])),_:1}),n(" Ø¹Ø¶Ùˆ Ù…Ù†Ø° "+i(new Date((g=S.value)==null?void 0:g.createdAt).toLocaleDateString("en-IQ")),1)]}),_:1})])])]}),_:1}),s(r,{cols:"12",md:"4"},{default:a(()=>[s(h,{class:"qr-card text-center pa-4",elevation:"4"},{default:a(()=>{var l,x;return[t[8]||(t[8]=e("div",{class:"text-caption mb-2 font-weight-bold"},"Ø±Ù…Ø² Ø§Ù„Ø­Ø¶ÙˆØ± Ù„Ù„Ø·Ù„Ø§Ø¨",-1)),(l=S.value)!=null&&l.qr?(p(),I("img",{key:0,class:"qr-image mx-auto",src:`https://api.mulhimiq.com${S.value.qr}`,alt:"Ø±Ù…Ø² Ø­Ø¶ÙˆØ± Ø§Ù„Ø·Ù„Ø§Ø¨"},null,8,Pt)):Q("",!0),(x=S.value)!=null&&x.qr?(p(),y(R,{key:1,block:"",size:"small",variant:"tonal",color:"primary",class:"mt-3",onClick:pt},{default:a(()=>[s(m,{start:"",size:"18"},{default:a(()=>t[6]||(t[6]=[n("mdi-printer")])),_:1}),t[7]||(t[7]=n(" Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø±Ù…Ø² "))]),_:1})):Q("",!0)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(k,{class:"mb-8"},{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[e("h2",Lt,[s(m,{color:"primary",size:"32"},{default:a(()=>t[10]||(t[10]=[n("mdi-chart-box")])),_:1}),t[11]||(t[11]=n(" Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª "))])]),_:1}),Z.value?(p(),y(r,{key:0,cols:"12"},{default:a(()=>[e("div",qt,[e("div",Ft,[s(U,{indeterminate:"",color:"primary",size:"64",width:"6"}),t[12]||(t[12]=e("p",{class:"mt-4 text-medium-emphasis"},"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...",-1))])])]),_:1})):(p(),I($,{key:1},[s(r,{cols:"12",sm:"6",lg:"3"},{default:a(()=>[s(h,{class:"stat-card stat-card-primary h-100",elevation:"3"},{default:a(()=>[s(A,{class:"pa-6"},{default:a(()=>[e("div",Et,[e("div",null,[t[13]||(t[13]=e("p",{class:"text-caption text-medium-emphasis mb-1"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø§Ø¨",-1)),e("h3",Mt,i(b.value.totalStudents),1)]),e("div",Qt,[s(m,{size:"32",color:"white"},{default:a(()=>t[14]||(t[14]=[n("mdi-account-group")])),_:1})])]),s(P,{"model-value":100,color:"primary",height:"6",rounded:""})]),_:1})]),_:1})]),_:1}),s(r,{cols:"12",sm:"6",lg:"3"},{default:a(()=>[s(h,{class:"stat-card stat-card-success h-100",elevation:"3"},{default:a(()=>[s(A,{class:"pa-6"},{default:a(()=>[e("div",Rt,[e("div",null,[t[15]||(t[15]=e("p",{class:"text-caption text-medium-emphasis mb-1"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯ÙˆØ±Ø§Øª",-1)),e("h3",Ut,i(b.value.totalCourses),1)]),e("div",$t,[s(m,{size:"32",color:"white"},{default:a(()=>t[16]||(t[16]=[n("mdi-book-open-variant")])),_:1})])]),s(P,{"model-value":100,color:"success",height:"6",rounded:""})]),_:1})]),_:1})]),_:1}),s(r,{cols:"12",sm:"6",lg:"3"},{default:a(()=>[s(h,{class:"stat-card stat-card-info h-100",elevation:"3"},{default:a(()=>[s(A,{class:"pa-6"},{default:a(()=>[e("div",Ot,[e("div",null,[t[17]||(t[17]=e("p",{class:"text-caption text-medium-emphasis mb-1"},"Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù†Ø´Ø·ÙˆÙ†",-1)),e("h3",Jt,i(b.value.activeStudents),1)]),e("div",Wt,[s(m,{size:"32",color:"white"},{default:a(()=>t[18]||(t[18]=[n("mdi-account-check")])),_:1})])]),s(P,{"model-value":b.value.totalStudents>0?b.value.activeStudents/b.value.totalStudents*100:0,color:"info",height:"6",rounded:""},null,8,["model-value"])]),_:1})]),_:1})]),_:1}),s(r,{cols:"12",sm:"6",lg:"3"},{default:a(()=>[s(h,{class:"stat-card stat-card-warning h-100",elevation:"3"},{default:a(()=>[s(A,{class:"pa-6"},{default:a(()=>[e("div",Yt,[e("div",null,[t[19]||(t[19]=e("p",{class:"text-caption text-medium-emphasis mb-1"},"Ø­ØµØµ Ø§Ù„ÙŠÙˆÙ…",-1)),e("h3",Zt,i(b.value.sessionsToday),1)]),e("div",Ct,[s(m,{size:"32",color:"white"},{default:a(()=>t[20]||(t[20]=[n("mdi-calendar-today")])),_:1})])]),s(P,{"model-value":100,color:"warning",height:"6",rounded:""})]),_:1})]),_:1})]),_:1})],64))]),_:1}),s(k,{class:"mb-8"},{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[e("h2",Gt,[s(m,{color:"primary",size:"32"},{default:a(()=>t[21]||(t[21]=[n("mdi-account-multiple")])),_:1}),t[22]||(t[22]=n(" Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ø¹Ø© ÙˆØ§Ù„Ø¥Ø­Ø§Ù„Ø§Øª "))])]),_:1}),s(r,{cols:"12",lg:"6"},{default:a(()=>[s(h,{class:"capacity-card h-100",elevation:"4"},{default:a(()=>[s(A,{class:"pa-6"},{default:a(()=>[e("div",Ht,[t[24]||(t[24]=e("div",null,[e("h3",{class:"text-h5 font-weight-bold mb-1"},"Ø³Ø¹Ø© Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø·Ù„Ø§Ø¨"),e("p",{class:"text-body-2 text-medium-emphasis"},"Ù…ØªØ§Ø¨Ø¹Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡ ÙÙŠ Ø¨Ø§Ù‚ØªÙƒ")],-1)),s(R,{icon:"",size:"small",variant:"text",loading:L.value,onClick:t[0]||(t[0]=()=>{L.value=!0,wt(T).getRemainingStudents().then(l=>{var D,z;const x=((D=l==null?void 0:l.data)==null?void 0:D.success)||(l==null?void 0:l.success),g=((z=l==null?void 0:l.data)==null?void 0:z.data)||(l==null?void 0:l.data)||l;x&&g&&(_.value={currentStudents:Number(g.currentStudents)||0,maxStudents:Number(g.maxStudents)||0,remaining:Number(g.remaining)||0,canAdd:!!g.canAdd})}).catch(l=>{console.warn("Failed to refresh subscription capacity:",l)}).finally(()=>{L.value=!1})})},{default:a(()=>[s(m,null,{default:a(()=>t[23]||(t[23]=[n("mdi-refresh")])),_:1})]),_:1},8,["loading"])]),E.value?(p(),y(W,{key:0,type:"error",variant:"tonal",class:"mb-4",density:"comfortable"},{default:a(()=>[n(i(E.value),1)]),_:1})):Q("",!0),e("div",Kt,[e("div",Xt,[s(U,{"model-value":xt(),size:180,width:12,color:_.value.canAdd?"success":"error",class:"capacity-progress"},{default:a(()=>[e("div",te,[e("div",ee,i(_.value.currentStudents),1),e("div",se,"Ù…Ù† "+i(_.value.maxStudents),1)])]),_:1},8,["model-value","color"])])]),s(k,null,{default:a(()=>[s(r,{cols:"6"},{default:a(()=>[s(h,{color:"success",variant:"tonal",class:"pa-4 text-center"},{default:a(()=>[s(m,{size:"24",color:"success",class:"mb-2"},{default:a(()=>t[25]||(t[25]=[n("mdi-check-circle")])),_:1}),e("div",ae,i(_.value.remaining),1),t[26]||(t[26]=e("div",{class:"text-caption"},"Ù…Ù‚Ø¹Ø¯ Ù…ØªØ¨Ù‚ÙŠ",-1))]),_:1})]),_:1}),s(r,{cols:"6"},{default:a(()=>[s(h,{color:_.value.canAdd?"success":"error",variant:"tonal",class:"pa-4 text-center"},{default:a(()=>[s(m,{size:"24",color:_.value.canAdd?"success":"error",class:"mb-2"},{default:a(()=>[n(i(_.value.canAdd?"mdi-account-plus":"mdi-account-off"),1)]),_:1},8,["color"]),e("div",oe,i(_.value.canAdd?"ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø·Ù„Ø§Ø¨":"Ø§Ù„Ø³Ø¹Ø© Ù…ÙƒØªÙ…Ù„Ø©"),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(r,{cols:"12",lg:"6"},{default:a(()=>[s(h,{class:"referral-card h-100",elevation:"4"},{default:a(()=>[s(A,{class:"pa-6"},{default:a(()=>[t[38]||(t[38]=e("div",{class:"d-flex align-center justify-space-between mb-4"},[e("div",null,[e("h3",{class:"text-h5 font-weight-bold mb-1"},"Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¥Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†"),e("p",{class:"text-body-2 text-medium-emphasis"},"Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ù‚Ø§Ø¹Ø¯ Ø¥Ø¶Ø§ÙÙŠØ© Ø¹Ù†Ø¯ Ø¯Ø¹ÙˆØ© Ù…Ø¹Ù„Ù…ÙŠÙ† Ø¬Ø¯Ø¯")])],-1)),M.value?(p(),y(W,{key:0,type:"error",variant:"tonal",class:"mb-4",density:"comfortable"},{default:a(()=>[n(i(M.value),1)]),_:1})):Q("",!0),O.value?(p(),I("div",le,[s(U,{indeterminate:"",color:"primary",size:"48"})])):(p(),I($,{key:2},[s(k,{class:"mb-4"},{default:a(()=>[s(r,{cols:"12",md:"6"},{default:a(()=>[s(h,{color:"primary",variant:"tonal",class:"pa-4"},{default:a(()=>[t[28]||(t[28]=e("div",{class:"text-caption mb-2"},"ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø¹ÙˆØ©",-1)),e("div",ne,[e("code",ie,i(N.value.referralCode),1),s(R,{icon:"",size:"small",variant:"text",onClick:t[1]||(t[1]=()=>G(N.value.referralCode))},{default:a(()=>[s(m,null,{default:a(()=>t[27]||(t[27]=[n("mdi-content-copy")])),_:1})]),_:1})])]),_:1})]),_:1}),s(r,{cols:"12",md:"6"},{default:a(()=>[s(h,{color:"secondary",variant:"tonal",class:"pa-4"},{default:a(()=>[t[31]||(t[31]=e("div",{class:"text-caption mb-2"},"Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ©",-1)),s(R,{block:"",size:"small",variant:"flat",color:"secondary",onClick:t[2]||(t[2]=()=>G("https://mulhimiq.com"+N.value.referralLink))},{default:a(()=>[s(m,{start:"",size:"18"},{default:a(()=>t[29]||(t[29]=[n("mdi-link-variant")])),_:1}),t[30]||(t[30]=n(" Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· "))]),_:1})]),_:1})]),_:1})]),_:1}),s(k,{class:"mb-4"},{default:a(()=>[s(r,{cols:"6",sm:"3"},{default:a(()=>[e("div",de,[e("div",re,i(N.value.referrals.total),1),t[32]||(t[32]=e("div",{class:"text-caption text-medium-emphasis"},"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ",-1))])]),_:1}),s(r,{cols:"6",sm:"3"},{default:a(()=>[e("div",ue,[e("div",ce,i(N.value.referrals.completed),1),t[33]||(t[33]=e("div",{class:"text-caption text-medium-emphasis"},"Ù…ÙƒØªÙ…Ù„Ø©",-1))])]),_:1}),s(r,{cols:"6",sm:"3"},{default:a(()=>[e("div",me,[e("div",fe,i(N.value.referrals.pending),1),t[34]||(t[34]=e("div",{class:"text-caption text-medium-emphasis"},"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",-1))])]),_:1}),s(r,{cols:"6",sm:"3"},{default:a(()=>[e("div",ve,[e("div",ge,i(N.value.bonuses.totalBonusSeats),1),t[35]||(t[35]=e("div",{class:"text-caption text-medium-emphasis"},"Ù…Ù‚Ø§Ø¹Ø¯ Ø¥Ø¶Ø§ÙÙŠØ©",-1))])]),_:1})]),_:1}),s(At,{class:"my-4"}),t[37]||(t[37]=e("div",{class:"text-subtitle-2 mb-3 font-weight-bold"},"Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„ÙØ¹Ù‘Ø§Ù„Ø©",-1)),N.value.bonuses.activeBonuses.length?(p(),I("div",be,[(p(!0),I($,null,mt(N.value.bonuses.activeBonuses,l=>(p(),y(h,{key:l.id,class:"pa-3 mb-2",variant:"tonal",color:"success"},{default:a(()=>[e("div",pe,[e("div",null,[e("div",xe,i(l.bonusType==="referral_referrer"?"Ù…Ù‚Ø§Ø¹Ø¯ Ø¥Ø­Ø§Ù„Ø©":"Ù…ÙƒØ§ÙØ£Ø©"),1),e("div",he,i(l.expiresAt?new Date(l.expiresAt).toLocaleDateString("en-IQ"):"Ø¨Ø¯ÙˆÙ† Ø§Ù†ØªÙ‡Ø§Ø¡"),1)]),s(Y,{color:"success",size:"small"},{default:a(()=>[n(i(l.bonusValue)+" Ù…Ù‚Ø¹Ø¯",1)]),_:2},1024)])]),_:2},1024))),128))])):(p(),y(W,{key:0,type:"info",variant:"tonal",density:"comfortable"},{default:a(()=>t[36]||(t[36]=[n(" Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙƒØ§ÙØ¢Øª ÙØ¹Ù‘Ø§Ù„Ø© Ø­Ø§Ù„ÙŠØ§Ù‹ ")])),_:1}))],64))]),_:1})]),_:1})]),_:1})]),_:1}),s(k,{class:"mb-8"},{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[e("h2",_e,[s(m,{color:"primary",size:"32"},{default:a(()=>t[39]||(t[39]=[n("mdi-cash-multiple")])),_:1}),t[40]||(t[40]=n(" Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª "))])]),_:1}),s(r,{cols:"12",lg:"6"},{default:a(()=>[s(h,{class:"financial-card h-100",elevation:"4"},{default:a(()=>[s(A,{class:"pa-6"},{default:a(()=>[e("div",we,[e("div",ye,[s(m,{size:"32",color:"white"},{default:a(()=>t[41]||(t[41]=[n("mdi-cash-register")])),_:1})]),t[42]||(t[42]=e("div",null,[e("h3",{class:"text-h6 font-weight-bold"},"ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¹Ø±Ø¨ÙˆÙ†"),e("p",{class:"text-caption text-medium-emphasis mb-0"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙˆÙ…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙˆÙ†")],-1))]),e("div",ke,[e("div",Se,[t[43]||(t[43]=e("span",{class:"text-body-2"},"Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ­ØµÙŠÙ„",-1)),e("span",Ne,i(H())+"%",1)]),s(P,{"model-value":H(),color:"success",height:"8",rounded:""},null,8,["model-value"])]),s(k,null,{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[e("div",De,[e("div",null,[s(m,{size:"20",color:"primary",class:"me-2"},{default:a(()=>t[44]||(t[44]=[n("mdi-cash")])),_:1}),t[45]||(t[45]=e("span",{class:"text-body-2"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ø±Ø¨ÙˆÙ†",-1))]),e("span",Ae,i(B(b.value.totalDeposit)),1)])]),_:1}),s(r,{cols:"12"},{default:a(()=>[e("div",ze,[e("div",null,[s(m,{size:"20",color:"success",class:"me-2"},{default:a(()=>t[46]||(t[46]=[n("mdi-cash-check")])),_:1}),t[47]||(t[47]=e("span",{class:"text-body-2"},"Ø§Ù„Ù…Ø³ØªÙ„Ù…",-1))]),e("span",Ve,i(B(b.value.receivedDeposit)),1)])]),_:1}),s(r,{cols:"12"},{default:a(()=>[e("div",Ie,[e("div",null,[s(m,{size:"20",color:"warning",class:"me-2"},{default:a(()=>t[48]||(t[48]=[n("mdi-cash-minus")])),_:1}),t[49]||(t[49]=e("span",{class:"text-body-2"},"Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ",-1))]),e("span",je,i(B(b.value.remainingDeposit)),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(r,{cols:"12",lg:"6"},{default:a(()=>[s(h,{class:"financial-card h-100",elevation:"4"},{default:a(()=>[s(A,{class:"pa-6"},{default:a(()=>[e("div",Te,[e("div",Be,[s(m,{size:"32",color:"white"},{default:a(()=>t[50]||(t[50]=[n("mdi-receipt-text")])),_:1})]),t[51]||(t[51]=e("div",null,[e("h3",{class:"text-h6 font-weight-bold"},"ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø·Ù„Ø§Ø¨"),e("p",{class:"text-caption text-medium-emphasis mb-0"},"Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª")],-1))]),e("div",Pe,[e("div",Le,[t[52]||(t[52]=e("span",{class:"text-body-2"},"Ù†Ø³Ø¨Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯",-1)),e("span",qe,i(K())+"%",1)]),s(P,{"model-value":K(),color:"success",height:"8",rounded:""},null,8,["model-value"])]),s(k,null,{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[e("div",Fe,[e("div",null,[s(m,{size:"20",color:"primary",class:"me-2"},{default:a(()=>t[53]||(t[53]=[n("mdi-receipt")])),_:1}),t[54]||(t[54]=e("span",{class:"text-body-2"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ­Ù‚",-1))]),e("span",Ee,i(B(b.value.studentTotalDue)),1)])]),_:1}),s(r,{cols:"12"},{default:a(()=>[e("div",Me,[e("div",null,[s(m,{size:"20",color:"success",class:"me-2"},{default:a(()=>t[55]||(t[55]=[n("mdi-cash-check")])),_:1}),t[56]||(t[56]=e("span",{class:"text-body-2"},"Ø§Ù„Ù…Ø¯ÙÙˆØ¹",-1))]),e("span",Qe,i(B(b.value.studentAmountPaid)),1)])]),_:1}),s(r,{cols:"12"},{default:a(()=>[e("div",Re,[e("div",null,[s(m,{size:"20",color:"warning",class:"me-2"},{default:a(()=>t[57]||(t[57]=[n("mdi-cash-minus")])),_:1}),t[58]||(t[58]=e("span",{class:"text-body-2"},"Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ",-1))]),e("span",Ue,i(B(b.value.studentAmountRemaining)),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(k,{class:"mb-8"},{default:a(()=>[s(r,{cols:"12"},{default:a(()=>[e("h2",$e,[s(m,{color:"primary",size:"32"},{default:a(()=>t[59]||(t[59]=[n("mdi-calendar-clock")])),_:1}),t[60]||(t[60]=n(" Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© Ø§Ù„ÙŠÙˆÙ… "))])]),_:1}),C.value?(p(),y(r,{key:0,cols:"12"},{default:a(()=>[e("div",Oe,[e("div",Je,[s(U,{indeterminate:"",color:"primary",size:"48"}),t[61]||(t[61]=e("p",{class:"mt-4 text-medium-emphasis"},"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯Ø±ÙˆØ³...",-1))])])]),_:1})):J.value.length?(p(!0),I($,{key:2},mt(J.value,l=>(p(),y(r,{key:l.sessionId,cols:"12",sm:"6",lg:"4"},{default:a(()=>[s(h,{class:"session-card h-100",elevation:"3",hover:""},{default:a(()=>[e("div",{class:"session-card-accent",style:yt({background:l.state==="confirmed"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":l.state==="pending"?"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)":"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"})},null,4),s(A,{class:"pa-6"},{default:a(()=>[e("div",We,[s(Y,{color:l.state==="confirmed"?"success":l.state==="pending"?"warning":"default",size:"small",variant:"flat"},{default:a(()=>[s(m,{start:"",size:"16"},{default:a(()=>[n(i(l.state==="confirmed"?"mdi-check-circle":l.state==="pending"?"mdi-clock-outline":"mdi-close-circle"),1)]),_:2},1024),n(" "+i(vt(l.state)),1)]),_:2},1032,["color"])]),e("h4",Ye,i(l.title),1),e("p",Ze,i(l.courseName||"Ø¯ÙˆØ±Ø©"),1),e("div",Ce,[s(m,{size:"18",color:"primary"},{default:a(()=>t[65]||(t[65]=[n("mdi-clock-outline")])),_:1}),e("span",null,i(l.startTime)+" - "+i(l.endTime),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)):(p(),y(r,{key:1,cols:"12"},{default:a(()=>[s(h,{class:"pa-8 text-center",elevation:"2"},{default:a(()=>[s(m,{size:"80",color:"grey-lighten-1",class:"mb-4"},{default:a(()=>t[62]||(t[62]=[n("mdi-calendar-blank")])),_:1}),t[63]||(t[63]=e("h3",{class:"text-h5 mb-2"},"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³ Ù‚Ø§Ø¯Ù…Ø© Ø§Ù„ÙŠÙˆÙ…",-1)),t[64]||(t[64]=e("p",{class:"text-body-2 text-medium-emphasis"},"Ø§Ø³ØªÙ…ØªØ¹ Ø¨ÙŠÙˆÙ…Ùƒ! ğŸ‰",-1))]),_:1})]),_:1}))]),_:1}),s(zt,{modelValue:j.value.show,"onUpdate:modelValue":t[3]||(t[3]=l=>j.value.show=l),color:j.value.color,location:"bottom",timeout:"3000",rounded:"pill"},{default:a(()=>[e("div",Ge,[s(m,null,{default:a(()=>[n(i(j.value.color==="success"?"mdi-check-circle":"mdi-alert-circle"),1)]),_:1}),n(" "+i(j.value.text),1)])]),_:1},8,["modelValue","color"])]),_:1})]))}},ms=kt(He,[["__scopeId","data-v-5e4b21ba"]]);export{ms as default};
