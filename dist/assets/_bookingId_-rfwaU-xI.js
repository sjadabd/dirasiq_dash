import{_ as f}from"./AppBreadcrumbs-CGDMHBEQ.js";import{T as x}from"./teacher_api-B0aW0cjW.js";import{n as y}from"./number-DRUmGIrN.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as _,b as h}from"./VCard-q0Xiefi9.js";import{c as v,b as e,e as s,a as b,o as V,d as a,A as k,q as u,t as n}from"./index-B-ugD3CV.js";import{V as w}from"./VDivider-0jTJqE-a.js";import{V as C}from"./VCardText-Dz05REAW.js";import{V as N,a as m}from"./VRow-_6XExfSs.js";import{V as I}from"./VChip-CqnLjyZp.js";import"./axios-D6DdSkOE.js";import"./VAvatar-BSxHYKKi.js";import"./VImg-CPt2aJgH.js";const A={data(){return{keyName:"reservation-payment-details",results:JSON.parse(localStorage.getItem("user")),breadcrumbItems:[{title:"الرئيسية",disabled:!1,to:"/teacher/index"},{title:"فواتير العربون",disabled:!1,to:{name:"teacher-payments-reservations-show-reservation-payments"}},{title:"تفاصيل",disabled:!0}],loading:!1,progress:0,payment:{studentName:"",courseName:"",amount:0,status:"pending",paidAt:null,studyYear:""}}},mounted(){this.getDataAxios()},methods:{numberWithComma:y,formatDate(r){if(!r)return"-";try{return new Date(r).toLocaleString()}catch{return"-"}},async getDataAxios(){const r=this.$route.params.bookingId;if(!r)return;this.progress=0,this.loading=!0;const t=setInterval(()=>{this.progress<90&&(this.progress+=10)},100);try{const{data:i}=await x.getReservationPaymentByBooking(r),l=(i==null?void 0:i.data)||{};this.payment=l}catch(i){console.error(i)}finally{clearInterval(t),this.progress=100,setTimeout(()=>{this.loading=!1,this.progress=0},300)}}}},B={class:"text-h6"},D={class:"text-h6"},T={class:"text-h6"},R={class:"text-h6"},S={class:"text-h6"};function L(r,t,i,l,o,d){const p=f,c=b("RouterLink");return V(),v("div",null,[e(p,{items:o.breadcrumbItems},null,8,["items"]),e(_,{class:"my-4",elevation:"3",rounded:"lg"},{default:s(()=>[e(h,{class:"py-4 px-6 d-flex align-center justify-space-between"},{default:s(()=>[t[1]||(t[1]=a("div",{class:"text-h6"},"تفاصيل فاتورة العربون",-1)),e(c,{to:{name:"teacher-payments-reservations-show-reservation-payments"}},{default:s(()=>[e(k,{color:"primary","prepend-icon":"ri-arrow-right-line",variant:"tonal"},{default:s(()=>t[0]||(t[0]=[u("رجوع")])),_:1})]),_:1})]),_:1}),e(w),e(C,null,{default:s(()=>[e(N,null,{default:s(()=>[e(m,{cols:"12",md:"6"},{default:s(()=>[t[2]||(t[2]=a("div",{class:"text-subtitle-2 text-medium-emphasis"},"اسم الطالب",-1)),a("div",B,n(o.payment.studentName||"-"),1)]),_:1}),e(m,{cols:"12",md:"6"},{default:s(()=>[t[3]||(t[3]=a("div",{class:"text-subtitle-2 text-medium-emphasis"},"اسم الكورس",-1)),a("div",D,n(o.payment.courseName||"-"),1)]),_:1}),e(m,{cols:"12",md:"3"},{default:s(()=>[t[4]||(t[4]=a("div",{class:"text-subtitle-2 text-medium-emphasis"},"المبلغ",-1)),a("div",T,n(d.numberWithComma(o.payment.amount))+" د.ع",1)]),_:1}),e(m,{cols:"12",md:"3"},{default:s(()=>[t[5]||(t[5]=a("div",{class:"text-subtitle-2 text-medium-emphasis"},"الحالة",-1)),e(I,{color:o.payment.status==="paid"?"success":"warning",class:"mt-1",size:"small"},{default:s(()=>[u(n(o.payment.status==="paid"?"مدفوع":"قيد الانتظار"),1)]),_:1},8,["color"])]),_:1}),e(m,{cols:"12",md:"3"},{default:s(()=>[t[6]||(t[6]=a("div",{class:"text-subtitle-2 text-medium-emphasis"},"تاريخ الدفع",-1)),a("div",R,n(d.formatDate(o.payment.paidAt)),1)]),_:1}),e(m,{cols:"12",md:"3"},{default:s(()=>[t[7]||(t[7]=a("div",{class:"text-subtitle-2 text-medium-emphasis"},"السنة الدراسية",-1)),a("div",S,n(o.payment.studyYear),1)]),_:1})]),_:1})]),_:1})]),_:1})])}const M=g(A,[["render",L]]);export{M as default};
